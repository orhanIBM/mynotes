<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/mynotes/styles.134cab6fc303693f5b86.css" id="gatsby-global-css">@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin "),local("IBM Plex Sans-Thin"),url(/mynotes/static/ibm-plex-sans-latin-100-245539db8ee56425757ef728eda8194e.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-100-9a582f3a304f421eca4027517706843c.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin italic"),local("IBM Plex Sans-Thinitalic"),url(/mynotes/static/ibm-plex-sans-latin-100italic-3c34cf080b38f5fb1d4c59ffa45b3967.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-100italic-1ea7c5d21b5956b602bdf9656cfb353f.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light "),local("IBM Plex Sans-Extra Light"),url(/mynotes/static/ibm-plex-sans-latin-200-bf72c8412ab06c393f52efc5beb26ea7.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-200-67524c36348a323f78f2845e3aafc2d4.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light italic"),local("IBM Plex Sans-Extra Lightitalic"),url(/mynotes/static/ibm-plex-sans-latin-200italic-bbc2d55223638ce450424a917e1104b2.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-200italic-52df25607ec284ca361ae50ba24b3580.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light "),local("IBM Plex Sans-Light"),url(/mynotes/static/ibm-plex-sans-latin-300-9e1c48af24191f6ea8aede14957c5d01.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-300-10bb6a0ae6dc8000d999ab622a45e281.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light italic"),local("IBM Plex Sans-Lightitalic"),url(/mynotes/static/ibm-plex-sans-latin-300italic-c76f2ab53673e964b6e6734c1c455761.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-300italic-d3566d5bb4f31d86bfb9fda09563b416.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular "),local("IBM Plex Sans-Regular"),url(/mynotes/static/ibm-plex-sans-latin-400-263d6267533501f58c33b12b382e3abb.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-400-a2c56f946488a9a267ba6ba21471a217.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular italic"),local("IBM Plex Sans-Regularitalic"),url(/mynotes/static/ibm-plex-sans-latin-400italic-89a93a1bdde48c7bb104150de88affce.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-400italic-272f86114c980c52c131dfc3b4ae3276.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium "),local("IBM Plex Sans-Medium"),url(/mynotes/static/ibm-plex-sans-latin-500-0866c24487514ad726738fb24f8e015b.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-500-f6d5c5d5b849796d6a8f5a2953b60753.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium italic"),local("IBM Plex Sans-Mediumitalic"),url(/mynotes/static/ibm-plex-sans-latin-500italic-ffd12d59339823b8cf53b9f99b47d87c.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-500italic-ccd41bd1a5bfa8bad2cd8d35fdaeb3d1.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold "),local("IBM Plex Sans-SemiBold"),url(/mynotes/static/ibm-plex-sans-latin-600-7852d4dc26ef44df58e23dc0b9722d6f.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-600-337b16517a230dc830b84dc6e6167b68.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold italic"),local("IBM Plex Sans-SemiBolditalic"),url(/mynotes/static/ibm-plex-sans-latin-600italic-17e5379fd9a99b9bcb26ea983f391b6a.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-600italic-6f4ba6aa87fa99d5bc2b90a7b40a0ded.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold "),local("IBM Plex Sans-Bold"),url(/mynotes/static/ibm-plex-sans-latin-700-c9983d3d04f3ed6c2eafee1db1d24e06.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-700-b8809d619a33eb825b0450281ff752e7.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold italic"),local("IBM Plex Sans-Bolditalic"),url(/mynotes/static/ibm-plex-sans-latin-700italic-02954beec9e742bb1f3ae27b7e7cb71f.woff2) format("woff2"),url(/mynotes/static/ibm-plex-sans-latin-700italic-72e9af409ddafc63a5dd380e34758560.woff) format("woff")}</style><meta name="generator" content="Gatsby 2.30.2"/><link rel="alternate" type="application/rss+xml" title="Minimal Blog - @lekoarts/gatsby-theme-minimal-blog" href="/mynotes/rss.xml"/><title data-react-helmet="true">Certified Kubernetes Application Developer | Orhan</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/mynotes/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/mynotes/favicon-16x16.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/mynotes/apple-touch-icon.png"/><meta data-react-helmet="true" name="description" content="Summary notes for my preparation of CKAD, Certified Kubernetes Application Developer Exam"/><meta data-react-helmet="true" name="image" content="http://orhanibm.github.io/mynotes/banner.jpg"/><meta data-react-helmet="true" property="og:title" content="Certified Kubernetes Application Developer"/><meta data-react-helmet="true" property="og:url" content="http://orhanibm.github.io/mynotes/certified-kubernetes-application-developer"/><meta data-react-helmet="true" property="og:description" content="Summary notes for my preparation of CKAD, Certified Kubernetes Application Developer Exam"/><meta data-react-helmet="true" property="og:image" content="http://orhanibm.github.io/mynotes/banner.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image:alt" content="Summary notes for my preparation of CKAD, Certified Kubernetes Application Developer Exam"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Certified Kubernetes Application Developer"/><meta data-react-helmet="true" name="twitter:url" content="http://orhanibm.github.io/mynotes/certified-kubernetes-application-developer"/><meta data-react-helmet="true" name="twitter:description" content="Summary notes for my preparation of CKAD, Certified Kubernetes Application Developer Exam"/><meta data-react-helmet="true" name="twitter:image" content="http://orhanibm.github.io/mynotes/banner.jpg"/><meta data-react-helmet="true" name="twitter:image:alt" content="Summary notes for my preparation of CKAD, Certified Kubernetes Application Developer Exam"/><meta data-react-helmet="true" name="twitter:creator" content="orhan"/><meta data-react-helmet="true" name="gatsby-theme" content="@lekoarts/gatsby-theme-minimal-blog"/><link rel="sitemap" type="application/xml" href="/mynotes/sitemap.xml"/><link rel="manifest" href="/mynotes/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#6B46C1"/><link rel="apple-touch-icon" sizes="192x192" href="/mynotes/android-chrome-192x192.png"/><link rel="apple-touch-icon" sizes="512x512" href="/mynotes/android-chrome-512x512.png"/><link as="script" rel="preload" href="/mynotes/webpack-runtime-c2d04602ea5b45e0ec00.js"/><link as="script" rel="preload" href="/mynotes/framework-cd3e1e804d552fa282ef.js"/><link as="script" rel="preload" href="/mynotes/app-1f20be592a394a764a7f.js"/><link as="script" rel="preload" href="/mynotes/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/mynotes/aed2e917f30c051bccba91aa15989a75fd0bd633-d17b8c942a633f09f0d3.js"/><link as="script" rel="preload" href="/mynotes/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-6737aa013d3c04e428fe.js"/><link as="fetch" rel="preload" href="/mynotes/page-data/certified-kubernetes-application-developer/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/mynotes/page-data/sq/d/3090400250.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/mynotes/page-data/sq/d/3090400250.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/mynotes/page-data/sq/d/318001574.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/mynotes/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="1hycliv">body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}</style><style data-emotion-css="tm2q0o">*{box-sizing:border-box;}body{margin:0;font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="kcr4c7">*{box-sizing:inherit;}html{-webkit-text-size-adjust:100%;}img{border-style:none;}pre{font-family:monospace;font-size:1em;}[hidden]{display:none;}::selection{background-color:var(--theme-ui-colors-text,#2d3748);color:var(--theme-ui-colors-background,#fff);}a{-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;color:text;}</style><style data-emotion-css="1g597hz">.css-1g597hz{border:0;-webkit-clip:react(0 0 0 0);clip:react(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute;}.css-1g597hz:focus{padding:1rem;position:fixed;top:15px;left:15px;background-color:var(--theme-ui-colors-heading,#000);color:var(--theme-ui-colors-background,#fff);z-index:1;width:auto;height:auto;-webkit-clip:auto;clip:auto;-webkit-text-decoration:none;text-decoration:none;}</style><a href="#skip-nav" data-skip-link="true" class="css-1g597hz">Skip to content</a><style data-emotion-css="1jrqzhj">.css-1jrqzhj{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;padding:1rem;max-width:1024px;}@media screen and (min-width:640px){.css-1jrqzhj{padding:2rem;}}</style><div class="css-1jrqzhj"><style data-emotion-css="1wt4r56">.css-1wt4r56{margin-bottom:4rem;}@media screen and (min-width:640px){.css-1wt4r56{margin-bottom:8rem;}}</style><header class="css-1wt4r56"><style data-emotion-css="1eswzqe">.css-1eswzqe{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><style data-emotion-css="190uhut">.css-190uhut{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-190uhut"><style data-emotion-css="dz3ojy">.css-dz3ojy{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:none;text-decoration:none;}</style><a aria-label="Orhan - Back to home" class="css-dz3ojy" href="/mynotes/"><style data-emotion-css="1kmktz0">.css-1kmktz0{margin-top:0;margin-bottom:0;font-weight:500;font-size:1.5rem;}@media screen and (min-width:640px){.css-1kmktz0{font-size:1.875rem;}}</style><div class="css-1kmktz0">Orhan</div></a><style data-emotion-css="af3ja4">.css-af3ja4{opacity:0.65;position:relative;border-radius:5px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;border:none;outline:none;background:none;cursor:pointer;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}.css-af3ja4:hover,.css-af3ja4:focus{opacity:1;}</style><button type="button" aria-label="Activate Dark Mode" title="Activate Dark Mode" class="css-af3ja4"><style data-emotion-css="iiu7h7">.css-iiu7h7{position:relative;width:24px;height:24px;border-radius:50%;border:none;background-color:var(--theme-ui-colors-transparent,transparent);-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:all 0.45s ease;transition:all 0.45s ease;overflow:hidden;box-shadow:inset 8px -8px 0px 0px var(--theme-ui-colors-toggleIcon,#2d3748);}.css-iiu7h7:before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:none;border-radius:50%;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-webkit-transition:-webkit-transform 0.45s ease;-webkit-transition:transform 0.45s ease;transition:transform 0.45s ease;}.css-iiu7h7:after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0 0 -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),0 23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),-23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748);-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 0.35s ease;transition:all 0.35s ease;}</style><div class="css-iiu7h7"></div></button></div><style data-emotion-css="1kvspmd">.css-1kvspmd{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:var(--theme-ui-colors-divide,#cbd5e0);padding-bottom:1rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:1rem;color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;}.css-1kvspmd a{color:var(--theme-ui-colors-secondary,#5f6c80);}.css-1kvspmd a:hover{color:var(--theme-ui-colors-heading,#000);}</style><div class="css-1kvspmd"><style data-emotion-css="nrb238">.css-nrb238{font-size:1rem;}.css-nrb238 a:not(:last-of-type){margin-right:1rem;}@media screen and (min-width:640px){.css-nrb238{font-size:18px;}}.css-nrb238 .active{color:var(--theme-ui-colors-heading,#000);}</style><nav class="css-nrb238"><style data-emotion-css="688a3f">.css-688a3f{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-688a3f:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class="css-688a3f" href="/mynotes/blog">Blog</a><a class="css-688a3f" href="/mynotes/about">About</a></nav><style data-emotion-css="e5k4e3">.css-e5k4e3{font-size:1rem;}.css-e5k4e3 a:not(:first-of-type){margin-left:1rem;}@media screen and (min-width:640px){.css-e5k4e3{font-size:18px;}}</style><div class="css-e5k4e3"><a href="https://www.ibm.com/" class="css-688a3f">IBM</a></div></div></header><style data-emotion-css="1o6dm8k">.css-1o6dm8k [data-name='live-editor']{font-size:1rem;}.css-1o6dm8k [data-name='live-editor'] textarea,.css-1o6dm8k [data-name='live-editor'] pre{padding:1rem !important;}.css-1o6dm8k [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#d2c7ec;}.css-1o6dm8k .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width:640px){.css-1o6dm8k .prism-code{font-size:1rem;}}@media screen and (min-width:768px){.css-1o6dm8k .prism-code{font-size:1.25rem;}}.css-1o6dm8k .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-1o6dm8k .gatsby-highlight[data-language=''] .prism-code,.css-1o6dm8k .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-1o6dm8k .token{display:inline-block;}.css-1o6dm8k p > code,.css-1o6dm8k li > code{background-color:var(--theme-ui-colors-gray-2,#edf2f7);color:var(--theme-ui-colors-gray-8,#2d3748);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-1o6dm8k .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1o6dm8k .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1o6dm8k .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1o6dm8k .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-1o6dm8k .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-1o6dm8k .gatsby-highlight pre code{float:left;min-width:100%;}.css-1o6dm8k .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-1o6dm8k .gatsby-highlight pre[class~="language-javascript"]:before,.css-1o6dm8k .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-1o6dm8k .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1o6dm8k .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1o6dm8k .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1o6dm8k .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1o6dm8k .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1o6dm8k .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1o6dm8k .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-1o6dm8k .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-1o6dm8k .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-1o6dm8k .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black,#000);}.css-1o6dm8k .gatsby-highlight pre[class~="language-py"]:before,.css-1o6dm8k .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white,#fff);}.css-1o6dm8k .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-1o6dm8k .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-1o6dm8k .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-1o6dm8k .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-1o6dm8k .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-1o6dm8k .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-1o6dm8k .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-1o6dm8k .gatsby-highlight pre[class~='language-json']:before,.css-1o6dm8k .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-1o6dm8k .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-1o6dm8k .gatsby-highlight > code[class*="language-"],.css-1o6dm8k .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1o6dm8k .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-1o6dm8k .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary,#6b46c1);}.css-1o6dm8k .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1,22,39);}.css-1o6dm8k .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-1o6dm8k .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1o6dm8k .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1o6dm8k .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1o6dm8k .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-1o6dm8k [data-name='live-preview'],.css-1o6dm8k [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width:640px){.css-1o6dm8k [data-name='live-preview'],.css-1o6dm8k [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width:768px){.css-1o6dm8k [data-name='live-preview'],.css-1o6dm8k [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width:1024px){.css-1o6dm8k [data-name='live-preview'],.css-1o6dm8k [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-1o6dm8k .token-line{padding-right:1rem;}.css-1o6dm8k .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-1o6dm8k .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-1o6dm8k .react-live-wrapper{position:relative;}.css-1o6dm8k .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width:640px){.css-1o6dm8k .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:768px){.css-1o6dm8k .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:1024px){.css-1o6dm8k .react-live-wrapper .code-copy-button{right:-1rem;}}</style><style data-emotion-css="1mcymz">.css-1mcymz{box-sizing:border-box;margin:0;min-width:0;}.css-1mcymz [data-name='live-editor']{font-size:1rem;}.css-1mcymz [data-name='live-editor'] textarea,.css-1mcymz [data-name='live-editor'] pre{padding:1rem !important;}.css-1mcymz [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#d2c7ec;}.css-1mcymz .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width:640px){.css-1mcymz .prism-code{font-size:1rem;}}@media screen and (min-width:768px){.css-1mcymz .prism-code{font-size:1.25rem;}}.css-1mcymz .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-1mcymz .gatsby-highlight[data-language=''] .prism-code,.css-1mcymz .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-1mcymz .token{display:inline-block;}.css-1mcymz p > code,.css-1mcymz li > code{background-color:var(--theme-ui-colors-gray-2,#edf2f7);color:var(--theme-ui-colors-gray-8,#2d3748);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-1mcymz .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1mcymz .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1mcymz .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1mcymz .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-1mcymz .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-1mcymz .gatsby-highlight pre code{float:left;min-width:100%;}.css-1mcymz .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-1mcymz .gatsby-highlight pre[class~="language-javascript"]:before,.css-1mcymz .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-1mcymz .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1mcymz .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1mcymz .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1mcymz .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1mcymz .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1mcymz .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1mcymz .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-1mcymz .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-1mcymz .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-1mcymz .gatsby-highlight pre[class~="language-php"]:before{content:"php";background:#777bb3;color:var(--theme-ui-colors-black,#000);}.css-1mcymz .gatsby-highlight pre[class~="language-py"]:before,.css-1mcymz .gatsby-highlight pre[class~="language-python"]:before{content:"py";background:#306998;color:var(--theme-ui-colors-white,#fff);}.css-1mcymz .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-1mcymz .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-1mcymz .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-1mcymz .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-1mcymz .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-1mcymz .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-1mcymz .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-1mcymz .gatsby-highlight pre[class~='language-json']:before,.css-1mcymz .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-1mcymz .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-1mcymz .gatsby-highlight > code[class*="language-"],.css-1mcymz .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1mcymz .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-1mcymz .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary,#6b46c1);}.css-1mcymz .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1,22,39);}.css-1mcymz .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-1mcymz .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1mcymz .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1mcymz .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1mcymz .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-1mcymz [data-name='live-preview'],.css-1mcymz [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width:640px){.css-1mcymz [data-name='live-preview'],.css-1mcymz [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width:768px){.css-1mcymz [data-name='live-preview'],.css-1mcymz [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width:1024px){.css-1mcymz [data-name='live-preview'],.css-1mcymz [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-1mcymz .token-line{padding-right:1rem;}.css-1mcymz .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-1mcymz .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-1mcymz .react-live-wrapper{position:relative;}.css-1mcymz .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width:640px){.css-1mcymz .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:768px){.css-1mcymz .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:1024px){.css-1mcymz .react-live-wrapper .code-copy-button{right:-1rem;}}</style><div id="skip-nav" class=" css-1mcymz"><style data-emotion-css="863s1o">.css-863s1o{box-sizing:border-box;margin:0;min-width:0;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-863s1o{font-size:3rem;}}@media screen and (min-width:768px){.css-863s1o{font-size:3rem;}}@media screen and (min-width:1024px){.css-863s1o{font-size:4rem;}}</style><h1 class="css-863s1o">Certified Kubernetes Application Developer</h1><style data-emotion-css="1fkzbc2">.css-1fkzbc2{color:var(--theme-ui-colors-secondary,#5f6c80);margin-top:1rem;font-size:1rem;}.css-1fkzbc2 a{color:var(--theme-ui-colors-secondary,#5f6c80);}@media screen and (min-width:640px){.css-1fkzbc2{font-size:1rem;}}@media screen and (min-width:768px){.css-1fkzbc2{font-size:1.25rem;}}</style><p class="css-1fkzbc2"><time>10.02.2020</time> — <a class="css-688a3f" href="/mynotes/tags/tutorial">Tutorial</a>, <a class="css-688a3f" href="/mynotes/tags/ckad">CKAD</a>, <a class="css-688a3f" href="/mynotes/tags/kubernetes">Kubernetes</a>, <a class="css-688a3f" href="/mynotes/tags/k-8-s">K8s</a> — <span>8<!-- --> min read</span></p><style data-emotion-css="f0b8g7">.css-f0b8g7{margin-top:4rem;margin-bottom:4rem;}.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;box-shadow:rgba(0,0,0,0.15) 0px 32px 32px 0px,rgba(0,0,0,0.15) 0px 16px 16px 0px,rgba(0,0,0,0.15) 0px 8px 8px 0px,rgba(0,0,0,0.15) 0px 4px 4px 0px;}@media screen and (min-width:640px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;}}@media screen and (min-width:768px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:4rem;margin-bottom:4rem;}}</style><section class="css-f0b8g7"><style data-emotion-css="1ccrm8j">.css-1ccrm8j{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width:640px){.css-1ccrm8j{font-size:1rem;}}@media screen and (min-width:768px){.css-1ccrm8j{font-size:1.25rem;}}</style><p class="css-1ccrm8j">This post is just notes to myself for my CKAD exam prep </p><p class="css-1ccrm8j">Linux Foundation and CNCF together prepare CKAD exam</p><p class="css-1ccrm8j">DEVOPS15 gets you 15% discount when registering for the exam </p><style data-emotion-css="s5k39c">.css-s5k39c{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:768px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:1024px){.css-s5k39c{font-size:4rem;}}</style><h1 class="css-s5k39c">Core Concepts</h1><style data-emotion-css="7tlrlz">.css-7tlrlz{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-7tlrlz{font-size:2.25rem;}}@media screen and (min-width:768px){.css-7tlrlz{font-size:2.25rem;}}@media screen and (min-width:1024px){.css-7tlrlz{font-size:3rem;}}</style><h2 class="css-7tlrlz">Nodes, Clusters</h2><p class="css-1ccrm8j">Node is a single machine, that can have multiple pods </p><p class="css-1ccrm8j">Cluster is the combination of multiple machines, or nodes </p><p class="css-1ccrm8j">Master node is configured to manage cluster of machines </p><h2 class="css-7tlrlz">Components</h2><p class="css-1ccrm8j">API Server: the front end of the cluster </p><p class="css-1ccrm8j">etcd: store the data to manage the cluster, key:value pairs</p><p class="css-1ccrm8j">Scheduler: distributing works across the cluster</p><p class="css-1ccrm8j">Controller: brain of the cluster, makes decision to run containers</p><p class="css-1ccrm8j">Container runtime: in this case docker </p><p class="css-1ccrm8j">kubelet: agents running in the nodes </p><h2 class="css-7tlrlz">Master vs Worker nodes</h2><p class="css-1ccrm8j">Worker node is where containers are hosted</p><p class="css-1ccrm8j">We need container runtime to execute container processes </p><p class="css-1ccrm8j">Pod is the simplest form of K8s object</p><p class="css-1ccrm8j">Pod has 1 to 1 relationship between Pod and Container, thus to scale up, increase pods</p><p class="css-1ccrm8j">However, if there is a helper container, it can be deployed to the pod too</p><p class="css-1ccrm8j">Remember, aim is to build replicas that can be increased/decreased as necessary</p><p class="css-1ccrm8j">To find the Nginx image from dockerhub and run in a pod </p><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><style data-emotion-css="l84w3r">.css-l84w3r{background-color:rgba(107,70,193,0.2);border:none;color:var(--theme-ui-colors-gray-2,#edf2f7);cursor:pointer;font-size:14px;font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;-webkit-transition:default;transition:default;position:absolute;top:0;right:0;z-index:1;border-radius:0 0 0 0.25rem;padding:0.25rem 0.6rem;}@media screen and (min-width:640px){.css-l84w3r{font-size:14px;}}@media screen and (min-width:768px){.css-l84w3r{font-size:16px;}}.css-l84w3r[disabled]{cursor:not-allowed;}.css-l84w3r:not([disabled]):hover{background-color:var(--theme-ui-colors-primary,#6b46c1);color:var(--theme-ui-colors-white,#fff);}</style><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<style data-emotion-css="1gy8470">.css-1gy8470{border:0;-webkit-clip:rect(0,0,0,0);clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}</style><span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl run nginx --image nginx</span></div></code></pre></div><p class="css-1ccrm8j">then get the pods running </p><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl get pods</span></div></code></pre></div><p class="css-1ccrm8j">It is also possible to deploy a pod via yaml file </p><div class="code-title"><div>pod.definition.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="pod.definition.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">pod.definition.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">kind: Pod </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  name:myapp-pod</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  label:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    app: myapp</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    type: front-end</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  annotation:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  containers: </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    - name: my-container-name-definition</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      image: nginx</span></div></code></pre></div><p class="css-1ccrm8j">Metadata children are name and labels </p><h2 class="css-7tlrlz">Pods</h2><p class="css-1ccrm8j">To create a redisapp pod with redis image imperative way </p><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl run redis --image=redis --generator=run-pod/v1</span></div></code></pre></div><p class="css-1ccrm8j">For more info on generators:
<style data-emotion-css="1od09yo">.css-1od09yo{color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-1od09yo:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="https://kubernetes.io/docs/reference/kubectl/conventions/#generators" class="css-1od09yo">https://kubernetes.io/docs/reference/kubectl/conventions/#generators</a></p><style data-emotion-css="15rlv7r">.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}</style><ul class="css-15rlv7r"><li class="css-0">To edit pods where a pod definition is not given</li></ul><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl get pod &lt;pod-name&gt; -o yaml &gt; pod-definition.yaml</span></div></code></pre></div><p class="css-1ccrm8j">Important: you have to delete and re-create the pod </p><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl delete pod &lt;pod-name&gt;</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl apply -f pod-definition.yaml</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0">To edit pod properties</li></ul><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl edit pod &lt;pod-name&gt;</span></div></code></pre></div><h2 class="css-7tlrlz">Replication controller</h2><p class="css-1ccrm8j">We need replication controller to manage the desired state and scaling</p><p class="css-1ccrm8j">Replication controller is the old version of the Replica Sets </p><p class="css-1ccrm8j">Skeleton yaml file below for Replication Controller, not complete</p><div class="code-title"><div>rc-definition.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="rc-definition.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">rc-definition.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">kind: ReplicationController</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  template:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  ... #Pod definition here, without apiVersion and kind </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  replicas: 3</span></div></code></pre></div><p class="css-1ccrm8j">A simple version</p><div class="code-title"><div>rc-definition.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="rc-definition.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">rc-definition.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="token plain">apiVersion</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">kind: ReplicationController</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  name: myapp-rc</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  labels:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    app: myapp</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    type: front-end</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  template:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      name: myapp</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      labels:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        app:myapp</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      - name: nginx-controller</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        image: nginx</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  replicas: 3</span></div></code></pre></div><p class="css-1ccrm8j">Now let&#x27;s look at a replicaset definition: </p><div class="code-title"><div>replicaset-definition.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="replicaset-definition.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">replicaset-definition.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="token plain">apiVersion: apps/v1</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">kind: ReplicaSet</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  name: myapp-rs</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  labels:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    app: myapp</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    type: front-end</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  template:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      name: myapp</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      labels:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        app:myapp</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      - name: nginx-controller</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        image: nginx</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  replicas: 2</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  selector:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    matchLabels:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      app:myapp</span></div></code></pre></div><p class="css-1ccrm8j">Note that replicaset requires selectors, unlike replica controller </p><ul class="css-15rlv7r"><li class="css-0">declarative way to update replicaset pods </li></ul><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl replace -f replicaset-manifest.yaml</span></div></code></pre></div><p class="css-1ccrm8j">where in the replicaset-manifest.yaml file we updated the replicas </p><p class="css-1ccrm8j">another way is to just update the file and use apply command </p><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl apply -f replicaset-manifest.yaml</span></div></code></pre></div><p class="css-1ccrm8j">the imperative ways of doing the same:</p><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl scale --replicas=3 rs/myapp</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">#OR</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl scale --replicas=3 -f replicaset-manifest.yaml </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">#OR </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl scale --replicas=3 replicaset name=myapp</span></div></code></pre></div><p class="css-1ccrm8j">the code above assumes that repliaset is different than 3, and the replicaset name is myapp</p><h2 class="css-7tlrlz">Deployments</h2><p class="css-1ccrm8j">Create a deployment and scale it up, imperatively </p><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl create deployment webapp --image=kodekloud/webapp-color</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl scale deployment/webapp --replicas=3</span></div></code></pre></div><p class="css-1ccrm8j">then expose the deployment created, containers listen on 8080 and expose the service port 30082, expose as NodePort</p><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl expose deployment webapp --type=NodePort --port=30082 --target-port=8080 --name=webapp-service</span></div></code></pre></div><p class="css-1ccrm8j">Just a few tricks for the exam:
use --dry-run=client and -o yaml options to try if the code will work, instead of waiting pods to come online </p><h2 class="css-7tlrlz">Namespaces</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">to create a namespace, you can use a yaml file with namespace in the metadata </p></li><li class="css-0"><p class="css-1ccrm8j">you can also do it imperatively by creating a ns, $ kubectl create ns namespace-name</p></li><li class="css-0"><p class="css-1ccrm8j">to refer to other pods in another namespace, just append --namespace flag to the end </p></li><li class="css-0"><p class="css-1ccrm8j">to create pods in an another namespace, you can also use namespace tag under the metadata, similar to name, label, annotations </p></li><li class="css-0"><p class="css-1ccrm8j">to switch, use set-context  under the config </p></li></ul><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl config set-context mycurrentnamespace --namespace=myothernamespace</span></div></code></pre></div><p class="css-1ccrm8j">if you don&#x27;t remember your current context or don&#x27;t want to look it up </p><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl config set-context $(kubectl config current-context) --namespace=SwitchToThisNamespace</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0">to set quota for a namespace, you can use ResourceQuota kind yaml</li></ul><div class="code-title"><div>rc-definition.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="rc-definition.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">rc-definition.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">kind: ResourceQuota</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  name: compute-quota</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  namespace: dev</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  hard:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    pods: &quot;10&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    requests.cpu: &quot;4&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    requests.memory: 5Gi</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    limits.cpu: &quot;10&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    limits.memory: 10Gi</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0">to connect to a source within the same namespace, you can directly refer to it,</li><li class="css-0">to connect to a source in a different namespace, you use servicename.namespace.svc.cluster.local such as, db.prod.svc.cluster.local </li></ul><h1 class="css-s5k39c">Configuration</h1><h2 class="css-7tlrlz">Commands and Arguments in YAML</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">Docker Commands</p></li><li class="css-0"><p class="css-1ccrm8j">To run a container use </p><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ docker run &lt;image-name&gt;</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">docker build from dockerfile </p><div class="code-title"><div>Dockerfile</div></div><div class="gatsby-highlight" data-language="Dockerfile"><pre class="prism-code language-Dockerfile" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="Dockerfile: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">Dockerfile: copy code to clipboard</span></button><code class="language-Dockerfile"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">FROM busybox</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">CMD [&quot;Sleep&quot;, &quot;5&quot;]</span></div></code></pre></div><p class="css-1ccrm8j">Then use docker build function to run the Ubuntu container
The Ubuntu container will run and exit after 5 seconds </p></li></ul></li><li class="css-0"><p class="css-1ccrm8j">What if you want to run the container but sleep after 10 seconds, but wanted to keep the default option as 5 seconds </p><div class="code-title"><div>Dockerfile</div></div><div class="gatsby-highlight" data-language="Dockerfile"><pre class="prism-code language-Dockerfile" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="Dockerfile: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">Dockerfile: copy code to clipboard</span></button><code class="language-Dockerfile"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">FROM busybox</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">ENTRYPOINT [&quot;Sleep&quot;]</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">CMD [&quot;5&quot;]</span></div></code></pre></div><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ docker build -t mybusybox .</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">$ docker run --name mybboxcontainer mybusybox 10</span></div></code></pre></div></li><li class="css-0"><p class="css-1ccrm8j">How can you pass these arguments via kubernetes yaml?</p><div class="code-title"><div>arguments-manifest.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="arguments-manifest.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">arguments-manifest.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">kind: Pod</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  name: busybox </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    - name: busybox-container</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">      image: mybusybox</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">      args: [&quot;10&quot;]</span></div></code></pre></div><p class="css-1ccrm8j">note that the image name must match our docker build image tag, pushed to the dockerhub
so we can conclude that args overrides CMD </p></li><li class="css-0"><p class="css-1ccrm8j">what if I want to override the ENTRYPOINT?, then add command above args </p><div class="code-title"><div>arguments-manifest.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="arguments-manifest.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">arguments-manifest.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">kind: Pod</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  name: busybox </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    - name: busybox-container</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">      image: mybusybox</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">      command: [&quot;sleep&quot;]</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">      args: [&quot;10&quot;]</span></div></code></pre></div></li></ul><h2 class="css-7tlrlz">Environment Variables</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">how to pass environment variables to pods? </p><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">...</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">env:</span></div></code></pre></div></li></ul><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">name: APP_COLOR
value: pink </p><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">Note that the environment variables are arrays, hence the dash </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">Structure must be name/value pairs</span></div></code></pre></div></li></ul><p class="css-1ccrm8j">Also possible to pass information via configMaps and Secrets </p><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">...</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">env: </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  - name: APP_COLOR</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    valueFrom: </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">      configMapKeyRef:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  - name: APP_SECRET</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    valueFrom:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">      secretKeyRef:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">...</span></div></code></pre></div><h2 class="css-7tlrlz">configMaps</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">Motivation of configMap is to cope with increasing complexity under env tags </p></li><li class="css-0"><p class="css-1ccrm8j">As the application grows, managing each env under Pod definition gets more complex, so configMaps are to rescue </p></li><li class="css-0"><p class="css-1ccrm8j">configMap variables are key value pairs and injected to pods </p></li><li class="css-0"><p class="css-1ccrm8j">Typical of k8s, we can do it imperatively and declaratively, before injecting to pods </p></li></ul><p class="css-1ccrm8j">Imperatively:</p><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl create configmap </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  configName --from-literal=key=value</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl create configmap</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  configName --from-file=config.filepath</span></div></code></pre></div><p class="css-1ccrm8j">Declaratively:</p><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl create -f configmap.yaml</span></div></code></pre></div><div class="code-title"><div>configmap.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="configmap.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">configmap.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">kind: configMap</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">metadata: </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  name: app-config </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">data:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  key:value</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  anotherkey:anothervalue</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0">How to refer to configmaps in pod template?</li></ul><div class="code-title"><div>pod-template.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="pod-template.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">pod-template.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">kind: Pod </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  name: simple-app</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  labels:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    env: dev</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">spec: </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    - name: containername</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      image: mycontainerimage</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      ports:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        - containerPort: 8080</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      envFrom:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        - configMapRef:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">            name: app-config #Must match configMap name</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0">there are 3 ways to inject variables </li></ul><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">#option 1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">...</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">envFrom:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  - configMapRef: </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">      name: app-config </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">...</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">#option 2 (as single env)</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">env: </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">  - name: CONFIG_KEY</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">    valueFrom:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">      configMapKeyRef:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">          name: app-config </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">          key: CONFIG_KEY</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">#option 3</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">volumes:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">  - name: app-config-volume </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">    configMap:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">      name: app-config</span></div></code></pre></div><h2 class="css-7tlrlz">Secrets</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">Motivation is similar to configMap but for secret items such as api keys or passwords</p></li><li class="css-0"><p class="css-1ccrm8j">Similar to ConfigMaps it can be done imperatively and declaratively </p></li><li class="css-0"><p class="css-1ccrm8j">Declaratively, it can be passed as an env:</p></li></ul><div class="code-title"><div>pod-definition-extract.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="pod-definition-extract.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">pod-definition-extract.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="token plain">...</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    - name: myapp</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      envFrom: </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        -secretRef:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">            name: app-secret</span></div></code></pre></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">kind: Secret</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  name: app-secret</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">data:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  DB_Host: ab12d3</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0">Secrets can be attached as volume too: </li></ul><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="token plain">volumes:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">- name: app-secret-volume </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  secret: </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    secretName: app-secret</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">the information under secret.yaml are encrypted using base64, but can be decrypted too </p></li><li class="css-0"><p class="css-1ccrm8j">Secrets can be injected as env, single env and volumes</p></li><li class="css-0"><p class="css-1ccrm8j">Secret volumes mounted to the pod creates individual files</p></li><li class="css-0"><p class="css-1ccrm8j">Since secrets are encoded via base64, it can be decoded as well, so it&#x27;s not that secure</p></li><li class="css-0"><p class="css-1ccrm8j">However, if the secrets are not checked into the code repository, can make it safer</p></li><li class="css-0"><p class="css-1ccrm8j">Also, enabling encryption at rest for secrets so they are stored encrpyted in /etcd </p></li><li class="css-0"><p class="css-1ccrm8j">Secrets are sent to pods if only needed, kubelet stores secrets in tmpfs in memory, not on disk and once that pod is deleted, kubelet will delete its local copy of the secret data as well </p></li><li class="css-0"><p class="css-1ccrm8j">imperatively you can create secrets as:</p></li></ul><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl create secret generic </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  secretName --from-literal=key=value</span></div></code></pre></div><h2 class="css-7tlrlz">Security Context in Kubernetes</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">To allow pod to run as non-root, such as userID 1000, just add the securityContext</p></li><li class="css-0"><p class="css-1ccrm8j">SecurityContext can also be added to the container level, so that other containers in the pod and the host system are not impacted</p></li></ul><div class="code-title"><div>pod-manifest.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="pod-manifest.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">pod-manifest.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">kind: Pod</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">metadata: </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  name: myPod</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain"># Pod level security</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  securityContext:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    runAsUser: 1000</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  containers: </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    - name: Ubuntu</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      image: Ubuntu</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      command: [&quot;sleep&quot;, &quot;3600&quot;]</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      # Container level security, run as user 1000 instead of root </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">      securityContext:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        runAsUser: 1000</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">        capabilities:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">          add: [&quot;MAC_ADMIN&quot;] #only on the container level</span></div></code></pre></div><h2 class="css-7tlrlz">Service Accounts</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">In kubernetes, there are user accounts and service accounts </p></li><li class="css-0"><p class="css-1ccrm8j">Humans use user accounts and bots/applications can use service accounts</p></li><li class="css-0"><p class="css-1ccrm8j">Service account examples are monitoring, logging, pipeline management</p></li><li class="css-0"><p class="css-1ccrm8j">Examples are promatheus (unsure if typed correctly) and jenkins</p></li><li class="css-0"><p class="css-1ccrm8j">The applications that interact with my cluster has to be authenticated, for that we use service accounts</p></li><li class="css-0"><p class="css-1ccrm8j">to create a service account imperatively </p></li></ul><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl create serviceaccount ServiceAccountName</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0">to get service accounts</li></ul><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl get serviceaccount</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0">to describe the service account, called ServiceAccountName</li></ul><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl describe ServiceAccountName</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">When service accounts interact with Kubernetes API, they have to be authenticated</p></li><li class="css-0"><p class="css-1ccrm8j">When a service account is created, it also creates a Token, the token is saved in the secret object </p></li><li class="css-0"><p class="css-1ccrm8j">Outside the scope of this course, however on a high level the structure for external application to interact with API, you create a service account, assign permissions using role-based control, export the service token to the application to authenticate</p></li><li class="css-0"><p class="css-1ccrm8j">What if the third party application itself is hosted in the cluster? Then simply mount the secret as a volume to the pod</p></li><li class="css-0"><p class="css-1ccrm8j">To add service account to the pod, just add the following to pod yaml </p></li></ul><div class="code-title"><div>mypod-manifest.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="mypod-manifest.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">mypod-manifest.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">kind: Pod </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  name: my-k8s-dashboard</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  - name: mypodname</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    image: mypodimage</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">  serviceAccount: dashboard-sa # the name of the serviceAccount object</span></div></code></pre></div><h2 class="css-7tlrlz">Resource Requirements</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">Set the pod&#x27;s CPU, Memory and Disk Requirements</p></li><li class="css-0"><p class="css-1ccrm8j">K8s schedules the application to the necessary node</p></li><li class="css-0"><p class="css-1ccrm8j">If there is no sufficient space available in the node, then it fails</p></li><li class="css-0"><p class="css-1ccrm8j">To set the resource requirements, add the following to the container definition </p></li></ul><div class="code-title"><div>mypod-manifest.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="mypod-manifest.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">mypod-manifest.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">kind: Pod </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">...</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  - name: myapp</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    image: containerimage</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    resources:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">      request:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">        memory: &quot;1Gi&quot;</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">        cpu: 0.5</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0">also can set the limits</li></ul><div class="code-title"><div>mypod-manifest.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="mypod-manifest.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">mypod-manifest.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">kind: Pod </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">...</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  - name: myapp</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    image: containerimage</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    resources:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">      requests:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">        memory: &quot;1Gi&quot;</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">        cpu: 0.5</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">      limits:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">        memory: &quot;2Gi&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">        cpu: 2</span></div></code></pre></div><h2 class="css-7tlrlz">Taints &amp; Tolerations</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">The motivation is to set Pod and Node relationship, so selected Pods can / cannot be run on selected Nodes</p></li><li class="css-0"><p class="css-1ccrm8j">Tainting is applied to the Node and Toleration is applied to the Pod </p></li><li class="css-0"><p class="css-1ccrm8j">Pods without taint toleration cannot be scheduled on the tainted Node </p></li><li class="css-0"><p class="css-1ccrm8j">How to taint a node </p></li></ul><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl taint nodes node-name key=value:taint-effect</span></div></code></pre></div><p class="css-1ccrm8j">where taint-effect is what happens to Pods that do not tolerate this taint </p><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">there are three taint effects
<strong class="css-0"> NoSchedule: do not execute, what we have been discussing
</strong> PreferNoSchedule: try not to schedule here
** NoExecute: do not schedule new and if there is any non-tolerant pods kill the pod (careful pods are gone!)</p></li><li class="css-0"><p class="css-1ccrm8j">How to tolerate a pod </p></li></ul><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl taint nodes node1 app=express: NoSchedule</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">--- mypod.yaml </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">kind: Pod</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">metadata: </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  name: myserver</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  - name: express-container</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    image: node</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  tolerations:</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">  - key: &quot;app&quot; #see app on the taint function above </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    operator: &quot;Equal&quot; # see the equal sign on the taint function above </span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    value: &quot;express&quot;</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">    effect: &quot;NoSchedule&quot;</span></div></code></pre></div><p class="css-1ccrm8j">Note that toleration to taint does not guarantee that the tolerant Pod will run on the tainted Node, see Affinity Rules for that requirement </p><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">For untaint, check $ kubectl taint -h </p></li><li class="css-0"><p class="css-1ccrm8j">To see which nodes the pods are running on $ kubectl get pods -o wide </p></li></ul><h2 class="css-7tlrlz">Node Selectors</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">The objective is to select certain Node, i.e. database pod should run on a higher CPU machine </p></li><li class="css-0"><p class="css-1ccrm8j">Say you want to add your application to a node that has significant CPU power, thus in your pod manifest you can add nodeSelector command </p></li></ul><div class="code-title"><div>my-pod-manifest.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="my-pod-manifest.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">my-pod-manifest.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">kind: Pod </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  name: my-app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  - name: my-sifnificant-resource-requiring-app </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    image: dockerhub-image-name</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">  nodeSelector:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">    sizeCPU: significantlyhigh</span></div></code></pre></div><p class="css-1ccrm8j">note that nodeSelector key/value pair is something we define, thus we should name the node to match this pod manifest </p><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl label nodes NodeName label-key=value-key</span></div><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl label nodes myNode sizeCPU=significantlyhigh</span></div></code></pre></div><p class="css-1ccrm8j">Note that the node selectors work for single label and cannot use logical operators, such as select any node where the label is either X or Y, or select any node where the label is NOT equal to X </p><p class="css-1ccrm8j">To select nodes such as above, use Node Affinity</p><h2 class="css-7tlrlz">Node Affinity</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">To place a pod to a certain node, you can label the node and use nodeSelector in the Pod spec, such as addition of size=Large </p></li><li class="css-0"><p class="css-1ccrm8j">What if you want to create more complicated selection, such as size NOT small or size Medium or Large? </p></li><li class="css-0"><p class="css-1ccrm8j">Such complex selection is achieved via Node Affinity on pod definition </p></li></ul><div class="code-title"><div>mypod-manifest.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="mypod-manifest.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">mypod-manifest.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">apiVersion: v1 </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">kind: Pod </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  name: nginx </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">spec:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  affinity: </span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">    nodeAffinity:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">      requiredDuringSchedulingIgnoredDuringExecution:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">        nodeSelectorTerms:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">        - matchExpressions:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">          - key: disktype</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">            operator: In </span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">            values:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">            - ssd </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">  containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">  - name: nginx </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">    image: nginx </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">    imagePullPolicy: IfNotPresent</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">What if a sneaky engineer updates the node label along the way, will the Pods get deleted? </p></li><li class="css-0"><p class="css-1ccrm8j">The answer is under the nodeAffinity line
<strong class="css-0"> requiredDuringSchedulingIgnoredDuringExecution
</strong> preferredDuringSchedulingIgnoredDuringExecution
** Planned to be added to K8s: requiredDuringSchedulingRequiredDuringExecution</p></li></ul><h1 class="css-s5k39c">Multi-Container Pods</h1><h2 class="css-7tlrlz">Multi Containers</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">Most of the time, one pod contains single container </p></li><li class="css-0"><p class="css-1ccrm8j">And sometimes (and almost always in distributed systems a.k.a microservices) you want to trace your app logs, track the traffic etc. </p></li><li class="css-0"><p class="css-1ccrm8j">However, you don&#x27;t want to bloat the app with that, so you add another container to the pod that takes care of such app support functions/services, which scales up/down along with app container  </p></li><li class="css-0"><p class="css-1ccrm8j">There are three patterns: Ambassador, Adapter, Sidecar</p></li><li class="css-0"><p class="css-1ccrm8j">To add extra container into pod, just expand the pod spec</p></li></ul><div class="code-title"><div>my-pod-manifest.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="my-pod-manifest.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">my-pod-manifest.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">kind: Pod </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  name: my-app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  - name: my-web</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">    image: ibmcr-web-app </span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">  - name: logger </span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">    image: ibmcr-logger</span></div></code></pre></div><h1 class="css-s5k39c">Observability</h1><h2 class="css-7tlrlz">Readiness</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">Readiness probe helps Scheduler to wait before sending the traffic to the newly created pod </p></li><li class="css-0"><p class="css-1ccrm8j">That is pretty helpful if you are running a script that creates pods / deployments back to back</p></li></ul><div class="code-title"><div>readiness-pod-manifest.yaml</div></div><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="readiness-pod-manifest.yaml: copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">readiness-pod-manifest.yaml: copy code to clipboard</span></button><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">apiVersion: v1</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">kind: Pod</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  labels:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">    test: liveness</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  name: liveness-exec</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">spec:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">  containers:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">  - name: liveness</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">    image: k8s.gcr.io/busybox</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">    args:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">    - /bin/sh</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">    - -c</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">    - touch /tmp/healthy; sleep 30; rm -rf /tmp/healthy; sleep 600</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">    #OPTION 1:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">    readinessProbe:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">      exec:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">        command:</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">        - cat</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token plain">        - /tmp/healthy</span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="line-number-style">21</span><span class="token plain">      initialDelaySeconds: 5</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">22</span><span class="token plain">      periodSeconds: 5</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">23</span><span class="token plain">    </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">24</span><span class="token plain">    OPTION 2:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">25</span><span class="token plain">    readinessProbe:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">26</span><span class="token plain">      httpGet:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">27</span><span class="token plain">        path: /healthz</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">28</span><span class="token plain">        port: 8080</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">29</span><span class="token plain">        httpHeaders:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">30</span><span class="token plain">        - name: Custom-Header</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">31</span><span class="token plain">          value: Awesome</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">32</span><span class="token plain">      initialDelaySeconds: 3</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">33</span><span class="token plain">      periodSeconds: 3</span></div></code></pre></div><h2 class="css-7tlrlz">Liveliness</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">Liveliness probe is the same as the readiness probe, however serves for a different reason </p></li><li class="css-0"><p class="css-1ccrm8j">Liveliness checks if your container is responding to client requests. Sometimes, your pod can be running and ready but your container is frozen or your code is broken </p></li><li class="css-0"><p class="css-1ccrm8j">For YAMLs use livelinessProbe instead of readinessProbe and the rest is the same </p></li></ul><h2 class="css-7tlrlz">Logging</h2><ul class="css-15rlv7r"><li class="css-0">use kubectl logs -f <!-- -->[pod-name][container-name-if-multiple-containers-in-the-pod]</li></ul><div class="gatsby-highlight" data-language="noLineNumbers"><pre class="prism-code language-noLineNumbers" style="color:#d6deeb;background-color:#011627" data-linenumber="false"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-noLineNumbers"><div class="token-line" style="color:#d6deeb"><span class="token plain">$ kubectl logs -f my-pod my-first-container</span></div></code></pre></div><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">If the container has stopped, add -c flag, if you have multiple containers add --all-containers=true flag </p></li><li class="css-0"><p class="css-1ccrm8j">Kubernetes does not have native metrics monitoring solution, so we use 3rd party such as promatheus or ELK stack. Kubernetes metrics server is also available at github
<a href="https://github.com/kubernetes-incubator/metrics-server.git" class="css-1od09yo">https://github.com/kubernetes-incubator/metrics-server.git</a> </p></li><li class="css-0"><p class="css-1ccrm8j">Clone the link and apply the files under /deploy/<!-- -->[metrics-version]<!-- --> folder </p></li><li class="css-0"><p class="css-1ccrm8j">Similar to linux performance command &#x27;top&#x27; use kubectl top <!-- -->[element]<!-- --> where element is node or pod </p></li></ul><h1 class="css-s5k39c">Pod Design</h1><h2 class="css-7tlrlz">Labels and Selectors</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">Labels help multiple objects to be accessed at once</p></li><li class="css-0"><p class="css-1ccrm8j">For replicaSets or deployments, the label for the replicaset can be different from pod spec, the most important line is Selector in the yaml to select the pods </p></li></ul><h2 class="css-7tlrlz">Rolling Updates and Rollbacks</h2><h2 class="css-7tlrlz">Jobs and CronJobs</h2><h1 class="css-s5k39c">Services and Networking</h1><h2 class="css-7tlrlz">Services and NodePort</h2><ul class="css-15rlv7r"><li class="css-0"><p class="css-1ccrm8j">Pod to pod communication can be done through services, because Pods are ephemeral, when pods are deleted the assigned IPs are gone</p></li><li class="css-0"><p class="css-1ccrm8j">Services keep track of the pods and can expose the service to outside of cluster </p></li><li class="css-0"><p class="css-1ccrm8j">There are 3 type of services, ClusterIP, NodePort and LoadBalancer </p></li><li class="css-0"><p class="css-1ccrm8j">ClusterIP is the default choice, it creates a cluster wide IP address that Pods can communicate with </p></li><li class="css-0"><p class="css-1ccrm8j">NodePort is ClusterIP + a static port open within the Node, thus all pods are accessible from the port; to access you can ping NodeIP:NodePort </p></li><li class="css-0"><p class="css-1ccrm8j">LoadBalancer allows a service to distribute the traffic among the pods in the cluster. Can be run on cloud providers which support LBs. </p></li></ul><style data-emotion-css="1p1kpni">.css-1p1kpni{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-1p1kpni{font-size:1.875rem;}}@media screen and (min-width:768px){.css-1p1kpni{font-size:1.875rem;}}@media screen and (min-width:1024px){.css-1p1kpni{font-size:2.25rem;}}</style><h3 class="css-1p1kpni">NodePort</h3><p class="css-1ccrm8j">From the Service object perspective, Service object has a ClusterIP and a Port.
Service object connects to a Pod at the TargetPort
Node Port opens up a static port with a range between 30000 and 32767 on the Node (i.e machine)</p><div class="gatsby-highlight" data-language="nodeport-service.yaml"><pre class="prism-code language-nodeport-service.yaml" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-nodeport-service.yaml"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">apiVersion: v1 </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">kind: Service </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  name: myapp-svc </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">spec: </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  type: NodePort </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  ports:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">  - targetPort: 80</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">    port: 80</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">    nodePort: 30008 # optional, if not given, auto selected </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">  #selector is needed to match the pod label </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">  selectors:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">    name: myapp</span></div></code></pre></div><div class="gatsby-highlight" data-language="nodeport-service.yaml"><pre class="prism-code language-nodeport-service.yaml" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><button type="button" name="copy code to clipboard" class="code-copy-button css-l84w3r">Copy<span aria-roledescription="status" class="css-1gy8470">copy code to clipboard</span></button><code class="language-nodeport-service.yaml"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">apiVersion: v1 </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">kind: Service </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">metadata:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  name: myapp-svc </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">spec: </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  type: ClusterIP #default option, can be left out  </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  ports:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">  - targetPort: 80 #</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">    port: 80</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">    nodePort: 30008 # optional, if not given, auto selected </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">  #selector is needed to match the pod label </span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">  selectors:</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">    name: myapp</span></div></code></pre></div><h1 class="css-s5k39c">State Persistence</h1></section></div><style data-emotion-css="6x8z6y">.css-6x8z6y{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:8rem;color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide,#cbd5e0);padding-top:1rem;}.css-6x8z6y a{color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-text-decoration:none;text-decoration:none;}.css-6x8z6y a:hover{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:underline;text-decoration:underline;}.css-6x8z6y a:focus{color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-6x8z6y{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media screen and (min-width:768px){.css-6x8z6y{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><footer class="css-6x8z6y"><div>© <!-- -->2021<!-- --> by <!-- -->Orhan<!-- -->. All rights reserved.</div><div><a aria-label="Link to the theme&#x27;s GitHub repository" href="https://github.com/LekoArts/gatsby-themes/tree/master/themes/gatsby-theme-minimal-blog" class="css-688a3f">Theme</a> <!-- -->by<!-- --> <a aria-label="Link to the theme author&#x27;s website" href="https://www.lekoarts.de/en" class="css-688a3f">LekoArts</a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/certified-kubernetes-application-developer";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-9238a5fdf6360dc5a847.js"],"app":["/app-1f20be592a394a764a7f.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-92db451aa9797c60e79a.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx-970be14a9aae153925c1.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-homepage-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-homepage-query-tsx-ef7691c0128f65df4c49.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx-f21d4c210ef48db3324f.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-6737aa013d3c04e428fe.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx-6d5261cb188f0457dd2e.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx-35d09f4d1f6a70300fce.js"]};/*]]>*/</script><script src="/mynotes/polyfill-9238a5fdf6360dc5a847.js" nomodule=""></script><script src="/mynotes/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-6737aa013d3c04e428fe.js" async=""></script><script src="/mynotes/aed2e917f30c051bccba91aa15989a75fd0bd633-d17b8c942a633f09f0d3.js" async=""></script><script src="/mynotes/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/mynotes/app-1f20be592a394a764a7f.js" async=""></script><script src="/mynotes/framework-cd3e1e804d552fa282ef.js" async=""></script><script src="/mynotes/webpack-runtime-c2d04602ea5b45e0ec00.js" async=""></script></body></html>