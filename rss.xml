<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Minimal Blog - @lekoarts/gatsby-theme-minimal-blog]]></title><description><![CDATA[Typography driven, feature-rich blogging theme with minimal aesthetics. Includes tags/categories support and extensive features for code blocks such as live preview, line numbers, and line highlighting.]]></description><link>http://orhanibm.github.io/mynotes</link><generator>GatsbyJS</generator><lastBuildDate>Wed, 07 Apr 2021 14:22:59 GMT</lastBuildDate><item><title><![CDATA[AWS Certified Solutions Architect Associate]]></title><link>http://orhanibm.github.io/mynotes/aws-certified-solutions-architect-associate</link><guid isPermaLink="false">http://orhanibm.github.io/mynotes/aws-certified-solutions-architect-associate</guid><pubDate>Fri, 12 Mar 2021 05:00:00 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;1hycliv&quot;&gt;body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}&lt;/style&gt;&lt;style data-emotion-css=&quot;tm2q0o&quot;&gt;*{box-sizing:border-box;}body{margin:0;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}&lt;/style&gt;&lt;style data-emotion-css=&quot;1ccrm8j&quot;&gt;.css-1ccrm8j{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width:640px){.css-1ccrm8j{font-size:1rem;}}@media screen and (min-width:768px){.css-1ccrm8j{font-size:1.25rem;}}&lt;/style&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;These are my notes for my exam prep and may not contain all the important aspects.&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;I am keeping notes for the areas that I find important and worthwile remembering so, this is by no means complete recap of the lessons &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Source: Stephane Maarek, Udemy&lt;/p&gt;&lt;style data-emotion-css=&quot;s5k39c&quot;&gt;.css-s5k39c{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:768px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:1024px){.css-s5k39c{font-size:4rem;}}&lt;/style&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;3. Fundamentals IAM &amp;amp; EC2&lt;/h1&gt;&lt;style data-emotion-css=&quot;7tlrlz&quot;&gt;.css-7tlrlz{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-7tlrlz{font-size:2.25rem;}}@media screen and (min-width:768px){.css-7tlrlz{font-size:2.25rem;}}@media screen and (min-width:1024px){.css-7tlrlz{font-size:3rem;}}&lt;/style&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;AWS Regions&lt;/h2&gt;&lt;style data-emotion-css=&quot;15rlv7r&quot;&gt;.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}&lt;/style&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Regions &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Regions &amp;gt; Availabilty Zones &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;North America &amp;gt; US East 1 for example &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;IAM Introduction&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Users &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Groups &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Roles &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Root has all the power &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Users: physical user : you, me &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Group: Users grouped together, admin, devops, finance, engineer, design etc &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Role: Internal usage within AWS resources, those are for machines &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Policies: JSON docs that define what those things can/cannot do &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;IAM is global, not region specific &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Can support Multi Factor Auth &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;You can use pre-defined policies &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Least priviliged! all the time!&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;IAM Federation&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;IAM Dump &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;1 Person = 1 IAM User, not shared &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;1 App = 1 Role, not shared  (this EC2 belongs to BackEnd Java Spring Server, Prod)&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Never write IAM Credentials in Code, duh&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Never use ROOT anymore, just create User and let user deal with it &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;EC2&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Rent virtual machines (ec2)&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Store data on Virtual Drive (EBS)&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Distribute the load across machines Elastic Load Balancer (ELB)&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Scale services using auto scaling group: ASG&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[NGINX]]></title><link>http://orhanibm.github.io/mynotes/nginx</link><guid isPermaLink="false">http://orhanibm.github.io/mynotes/nginx</guid><pubDate>Sat, 16 Jan 2021 05:00:00 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;1hycliv&quot;&gt;body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}&lt;/style&gt;&lt;style data-emotion-css=&quot;tm2q0o&quot;&gt;*{box-sizing:border-box;}body{margin:0;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}&lt;/style&gt;&lt;style data-emotion-css=&quot;1ccrm8j&quot;&gt;.css-1ccrm8j{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width:640px){.css-1ccrm8j{font-size:1rem;}}@media screen and (min-width:768px){.css-1ccrm8j{font-size:1.25rem;}}&lt;/style&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Disclaimer: This may not cover all the content. They are just notes I found important to remember &lt;/p&gt;&lt;style data-emotion-css=&quot;s5k39c&quot;&gt;.css-s5k39c{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:768px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:1024px){.css-s5k39c{font-size:4rem;}}&lt;/style&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Building Nginx from Source for Ubuntu&lt;/h1&gt;&lt;style data-emotion-css=&quot;15rlv7r&quot;&gt;.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}&lt;/style&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Go to &lt;style data-emotion-css=&quot;1od09yo&quot;&gt;.css-1od09yo{color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-1od09yo:hover{-webkit-text-decoration:underline;text-decoration:underline;}&lt;/style&gt;&lt;a href=&quot;http://nginx.org/en/download.html&quot; class=&quot;css-1od09yo&quot;&gt;http://nginx.org/en/download.html&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Select the stable version&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Assume that the link is &amp;#x27;&lt;a href=&quot;http://nginx.org/download/nginx-1.18.0.tar.gz&amp;#x27;&quot; class=&quot;css-1od09yo&quot;&gt;http://nginx.org/download/nginx-1.18.0.tar.gz&amp;#x27;&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;on terminal use wget to download the source code &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ wget &lt;a href=&quot;http://nginx.org/download/nginx-1.18.0.tar.gz&quot; class=&quot;css-1od09yo&quot;&gt;http://nginx.org/download/nginx-1.18.0.tar.gz&lt;/a&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;see the downloaded tar, nginx-1.18.0.tar &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;untar the nginx source code&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ tar -zxvf nginx-1.18.0.tar.gz &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;then go into untared directory &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;then go to terminal and type ./configure &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;if you have configuration errors, you might be missing build-essentials&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;if you are missing modules, then apt-get install [module]&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;for example apt-get install libpcre3 libpcre3-dev zlib1g zlib1g-dev libssl-dev &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;$ ./configure --sbin-path=/usr/bin/nginx --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --http-log-path=/var/log/nginx/access.log --with-pcre --pid-path=/var/run/nginx.pid --with-http_ssl_module&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;you can see all the configuration details here: &lt;a href=&quot;http://nginx.org/en/docs/configure.html&quot; class=&quot;css-1od09yo&quot;&gt;http://nginx.org/en/docs/configure.html&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;$ make&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;this will compile the application &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;$ make install &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;this will install nginx &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;type $ nginx or $ sudo nginx to start nginx &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;go to localhost or 127.0.0.1 to see welcome to nginx start page or just simply check on terminal $ ps aux | grep nginx  &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[DO288 Red Hat OpenShift Development II Containerizing Applications]]></title><link>http://orhanibm.github.io/mynotes/do-288-red-hat-open-shift-development-ii-containerizing-applications</link><guid isPermaLink="false">http://orhanibm.github.io/mynotes/do-288-red-hat-open-shift-development-ii-containerizing-applications</guid><pubDate>Fri, 15 Jan 2021 05:00:00 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;1hycliv&quot;&gt;body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}&lt;/style&gt;&lt;style data-emotion-css=&quot;tm2q0o&quot;&gt;*{box-sizing:border-box;}body{margin:0;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}&lt;/style&gt;&lt;style data-emotion-css=&quot;s5k39c&quot;&gt;.css-s5k39c{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:768px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:1024px){.css-s5k39c{font-size:4rem;}}&lt;/style&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;1. Deploying and Managing Applications on OpenShift&lt;/h1&gt;&lt;style data-emotion-css=&quot;7tlrlz&quot;&gt;.css-7tlrlz{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-7tlrlz{font-size:2.25rem;}}@media screen and (min-width:768px){.css-7tlrlz{font-size:2.25rem;}}@media screen and (min-width:1024px){.css-7tlrlz{font-size:3rem;}}&lt;/style&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Deploying Applications to OpenShift Cluster&lt;/h2&gt;&lt;style data-emotion-css=&quot;15rlv7r&quot;&gt;.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}&lt;/style&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;After OCP 4.5, oc new-app command creates Deployment instead of DeploymentConfig&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;So we will use $ oc new-app --as-deployment-config during the codes below &lt;/li&gt;&lt;/ol&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;style data-emotion-css=&quot;1ccrm8j&quot;&gt;.css-1ccrm8j{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width:640px){.css-1ccrm8j{font-size:1rem;}}@media screen and (min-width:768px){.css-1ccrm8j{font-size:1.25rem;}}&lt;/style&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Build application from the GitHub
$ oc new-app --as-deployment-config [github link]&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Repo contains Dockerfile, so use that instead of S2I
$ oc new-app [github link] --as-deployment-config --strategy docker &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Registry that contains docker image
$ oc new-app -as-deployment-config --docker-image= [registry link]&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Weird cases, what if repo contains dockerfile as well as index.php? OCP cannot decide in that case, you have to help &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;oc-new app flags&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;--code = github link &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;--docker-image = registry link for the container image &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;--strategy = options: source, docker, pipeline&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;--image-stream or -i = use the image in the ImageStream &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;--as-deployment-config = use DC instead of Deployment &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;image stream flag in detail: instead of public nginx, use rhel nginx in the image stream for example or directly deploy the image stream &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;strategy flag in detail &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;source means, use github and S2I image builder &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;docker means, use the Dockerfile in the github repo to build the image and follow my Dockerfile order &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;pipeline means use the Jenkinsfile to build the image and deployment &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;shortcuts for flags that will result in the same outcome
$ oc new-app --as-deployment-config [FLAGS]
*FLAGS COULD BE:&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;php~github.repo.link # this tells that use S2I php to build the repo &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;-i php github.repo.link &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;-i php:8.0 github.repo.link # this uses image version 8.0&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;oc new-app creates a BuildConfig, ImageStream, Deployment (DeploymentConfiguration with the flag), and a Service, you need to expose the service to create route&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;How to import docker images to image stream
$ oc import-image [imagename] --configm --from [registry link] --insecure &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;oc new-app for subfolder of github, use --context-dir for the folder selection &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;how to rebuild an app, that doesn&amp;#x27;t have auto build trigger?
$ oc start-build [buildconfig name]&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Managing Applications with CLI&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;open remote shell in a container in the pod alpha
$ oc rsh alpha &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;open a remote shell in pod alfa and run ls command
$ oc rsh alpha ls &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;copy file into a running container, container must contain tar
$ oc cp &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;edit a resource (oc get ... -o yaml + oc apply combo )
$ oc edit &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;CH 1 SUMMARY:&lt;/h2&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;style data-emotion-css=&quot;l84w3r&quot;&gt;.css-l84w3r{background-color:rgba(107,70,193,0.2);border:none;color:var(--theme-ui-colors-gray-2,#edf2f7);cursor:pointer;font-size:14px;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;-webkit-transition:default;transition:default;position:absolute;top:0;right:0;z-index:1;border-radius:0 0 0 0.25rem;padding:0.25rem 0.6rem;}@media screen and (min-width:640px){.css-l84w3r{font-size:14px;}}@media screen and (min-width:768px){.css-l84w3r{font-size:16px;}}.css-l84w3r[disabled]{cursor:not-allowed;}.css-l84w3r:not([disabled]):hover{background-color:var(--theme-ui-colors-primary,#6b46c1);color:var(--theme-ui-colors-white,#fff);}&lt;/style&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;style data-emotion-css=&quot;1gy8470&quot;&gt;.css-1gy8470{border:0;-webkit-clip:rect(0,0,0,0);clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}&lt;/style&gt;&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc new-app --as-deployment-config &amp;lt;git&amp;gt;#&amp;lt;folder&amp;gt; --context-dir &amp;lt;branchname&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# if you do not have a dockerfile a suitable s2i will be used, unless you tell one from your imageStream, if you have dockerfile it will use it by default no need to define strategy in this case &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc new-app --as-deployment-config --docker-image=registry.access.redhat.com/imagename &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc new-app --as-deployment-config --image-stream=&amp;lt;equivalent-to-S2I-image&amp;gt; --strategy=&amp;lt;source/docker/pipeline&amp;gt; --code=&amp;lt;github.repo&amp;gt; OR --docker-image=&amp;lt;image-repo&amp;gt; &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc new-app --as-deployment-config -l key=value --name value ENV_VAR_KEY=ENV_VAR_VALUE[NOFLAG]&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc import-image imagename --config --from registry.link.here --insecure #this will import image to OCP registry&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc logs bc/name #get the logs from the latest build &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc logs build/my-app-2 # get the logs from the second build, from the same build config &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# oc logs myapp-build-2 # get the logs from a pod used to build the app second time &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc status #to see new-app results&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc start-build bc_name #starts rebuilding the application, so if you don&amp;#x27;t have triggers set up, you can manually re-run builds &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc get templates -n openshift # careful, you need openshift namespace, that&amp;#x27;s where the default templates are&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# when troubleshooting, first curl the endpoint see if it is working &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# then check if pods can see the endpoints: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc get ep # get endpoints &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc describe pod &amp;lt;podname&amp;gt; | grep IP # the ip should match service endpoint &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# if you are connecting to the db, ensure that credentials are correct &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# then check if one pod can see the other pod, normally you can go into a pod and ping it but if you don&amp;#x27;t have it, use curl so &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc rsh [podname] bash -c &amp;#x27;echo &amp;gt;/dev/tc/$OTHER_SERVICE_NAME/PORT# &amp;amp;&amp;amp; echo OK || echo FAIL&amp;#x27;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# When executing a command on a /dev/tcp/$host/$port pseudo-device file, Bash opens a TCP connection to the associated socket. &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# if you need to copy a configuration/sql table etc to the pod you can just copy it &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ oc cp ~/path/to/file.txt pod-name:/path/to/file.txt #note if it is a file, destination is a file, if it is a folder, destination is a folder&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;2. Designing Containerized Applications for OpenShift&lt;/h1&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Aim: select a containerization method and package it to run on OCP &lt;/p&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Building Container images with Dockerfile&lt;/h2&gt;&lt;style data-emotion-css=&quot;1p1kpni&quot;&gt;.css-1p1kpni{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-1p1kpni{font-size:1.875rem;}}@media screen and (min-width:768px){.css-1p1kpni{font-size:1.875rem;}}@media screen and (min-width:1024px){.css-1p1kpni{font-size:2.25rem;}}&lt;/style&gt;&lt;h3 class=&quot;css-1p1kpni&quot;&gt;Advanced Dockerfile Instructions&lt;/h3&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Concatenate individual and sequential RUN commands such as &lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;RUN yum --disablerepo=* --enablerepo=&amp;quot;rhel-7-server-rpms&amp;quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;RUN yum update&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;RUN yum install -y httpd&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;RUN yum clean all -y&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;into &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;RUN yum --disablerepo=* --enablerepo=&amp;quot;rhel-7-server-rpms&amp;quot; &amp;amp;&amp;amp; \&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;RUN yum update &amp;amp;&amp;amp; \&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;RUN yum install -y httpd &amp;amp;&amp;amp; \&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;RUN yum clean all -y&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;LABEL instructions distinguish Openshift from Kubernetes by adding &lt;code class=&quot;css-0&quot;&gt;io.openshift&lt;/code&gt; to your labels &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;common labels, io.openshift.tags, io.k8s.description io.openshift.expose-services&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;io.openshift.expose-services: PORT[/PROTOCOL]:NAME 8080/tcp:my-deployment; this label contains list of svc ports that match the EXPOSE instructions in the Dockerfile &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Dockerfile best practices for ENV and LABEL: single equal and \ separated &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;ENV MYSQL_DATABASE_USER=&amp;quot;my_db_usr&amp;quot; \
MYSQL_DATABASE=&amp;quot;mydb&amp;quot;&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;LABEL version=&amp;quot;2.0&amp;quot; \
description=&amp;quot;This is my db image&amp;quot;\
creationDate=&amp;quot;&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;USER: that is an important concept. Red Hat recommends running the container as non-root. But OCP does not honour the USER on Dockerfile; it uses a random UID that is not 0 (root)&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Building images with ONBUILD instruction. Use ONBUILD on parent container image. So when child refers to parent image via FROM, building the child image will trigger ONBUILD commands for the child container.&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Why not just go ahead and use those commands in the child? For ease of consistency. The architect can create set of rules on the parent container, and devs can refer to the parent image instead. &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Podman and Buildah does not use ONBUILD as it is not part of OCI spec. &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 class=&quot;css-1p1kpni&quot;&gt;Adapting Dockerfiles For OpenShift:&lt;/h3&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;When you write a Dockerfile that builds an image to run on OCP, you need to address:&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Directories/files that are read from/written to by processes in the container should be owned by the root group &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Executable files should have executable permissions &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Processes must not listen ion priviliged ports (below 1024)&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;so add the following to the dockerfile to deal with the first two &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;RUN chgrp -R 0 [directory/here] &amp;amp;&amp;amp; chmod -R g=u [directory/here]&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;By default OpenShift Container Platform runs containers using arbitrary User IDs. So the container user does not have Root USER priviliges &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Note that Root User is different from Root Group. Root group does not have priviliged rights, it is only root User that has.&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;So for an image to support running as an arbitrary user, it must be part of Root Group. &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;How to change the port to run above 1024 on Dockerfile &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;EXPOSE 8080&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;What if I am relying on parent Dockerfile, with ONBUILT?&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# On child dockerfile, i.e. httpd on port 80&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;RUN sed -i &amp;quot;s/Listen 80/Listen 8080/g&amp;quot; /etc/httpd/conf/httpd.conf&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;How to change the user id?&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# Dont use a name, user number &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;USER 1001&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Running Containers as root Using Security Context Constraints (SCC)&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;[user@host ~]$ oc create serviceaccount myserviceaccount&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;[user@host ~]$ oc patch dc/demo-app --patch \&lt;style data-emotion-css=&quot;1gtwvjp&quot;&gt;.css-1gtwvjp{border-left-color:var(--theme-ui-colors-primary,#6b46c1);border-left-style:solid;border-left-width:6px;margin-left:0;margin-right:0;padding-left:2rem;}.css-1gtwvjp p{font-style:italic;}&lt;/style&gt;&lt;blockquote class=&quot;css-1gtwvjp&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;&amp;#x27;{&amp;quot;spec&amp;quot;:{&amp;quot;template&amp;quot;:{&amp;quot;spec&amp;quot;:{&amp;quot;serviceAccountName&amp;quot;: &amp;quot;myserviceaccount&amp;quot;}}}}&amp;#x27;&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;[user@host ~]$ oc adm policy add-scc-to-user anyuid -z myserviceaccount&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Guided Exercise: Building Container Images with Advanced Dockerfile instructions&lt;/h2&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Given the following Dockerfile: &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;FROM registry.access.redhat.com/ubi8/ubi:8.0 &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;MAINTAINER Red Hat Training &amp;lt;training@redhat.com&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# DocumentRoot for Apache&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;ENV DOCROOT=/var/www/html &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;RUN   yum install -y --no-docs --disableplugin=subscription-manager httpd &amp;amp;&amp;amp; \ &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      yum clean all --disableplugin=subscription-manager -y &amp;amp;&amp;amp; \&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      echo &amp;quot;Hello from the httpd-parent container!&amp;quot; &amp;gt; ${DOCROOT}/index.html&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# Allows child images to inject their own content into DocumentRoot&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;ONBUILD COPY src/ ${DOCROOT}/ &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;EXPOSE 80&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# This stuff is needed to ensure a clean start&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;RUN rm -rf /run/httpd &amp;amp;&amp;amp; mkdir /run/httpd&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# Run as the root user&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;USER root &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# Launch httpd&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;CMD /usr/sbin/httpd -DFOREGROUND&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Can you create an Apache HTTP server container image using a Dockerfile and deploy it to OCP?&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Can you create a child contianer image by extending the parent Apache HTTP Server img? &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Can you update Dockerfile for the child container image so that it runs on OCP with a random user id? &lt;/li&gt;&lt;/ol&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Probably in the exam they would give me a parent container that will have a pre-built parent Dockerfile
Probably the parent file will contain USER Root, won&amp;#x27;t be able to access system files because I haven&amp;#x27;t changed the owner, running on ports &amp;lt; 1024
Possibly may ask me to improve the build efficiency, by combining all RUN commands that are consecutive, as one &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;&lt;strong class=&quot;css-0&quot;&gt;Codes I should know for the DO288:&lt;/strong&gt;
&lt;strong class=&quot;css-0&quot;&gt;On (child) Dockerfile, &lt;code class=&quot;css-0&quot;&gt;EXPOSE 8080&lt;/code&gt; or ports &amp;gt; 1024&lt;/strong&gt;
&lt;strong class=&quot;css-0&quot;&gt;On (child) Dockerfile, `LABEL io.openshift.expose-services=&amp;quot;8080:http&amp;quot; to match Dockerfile and automatically understand which port to expose when creating a service (oc expose svc/[svc-name]&lt;/strong&gt;
&lt;strong class=&quot;css-0&quot;&gt;By default, Apache httpd server listens on port 80 and configuration file is in /etc/httpd/conf/httpd.conf file, so how do you edit that in child?&lt;/strong&gt;
&lt;strong class=&quot;css-0&quot;&gt;The answer is to edit it on the fly, so you need a script edit to convert httpd configuration that says Listen 80 to Listen 8080&lt;/strong&gt;
&lt;strong class=&quot;css-0&quot;&gt;The way to do that on Linux is via sed, RUN sed -i &amp;quot;s/Listen 80/Listen 8080/g&amp;quot; /etc/httpd/conf/httpd.conf*&lt;/strong&gt;
&lt;strong class=&quot;css-0&quot;&gt;if httpd cannot access the log files, it means that we do not have read/write rights, learn how to change permissions&lt;/strong&gt;
&lt;strong class=&quot;css-0&quot;&gt;RUN chgrp -R 0 /var/log/httpd/ var/run/httpd &amp;amp;&amp;amp; chmod -R g=u /var/log/httpd /var/run/httpd&lt;/strong&gt;
&lt;strong class=&quot;css-0&quot;&gt;and finally USER 1001 or any user that starts from 1000&lt;/strong&gt;&lt;/p&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;How to Inject Configuration Data into Application?&lt;/h2&gt;&lt;h3 class=&quot;css-1p1kpni&quot;&gt;How to Create Secret / ConfigMaps&lt;/h3&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;How to create configmap from literals
$ oc create configmap config_map_name --from-literal key1=value1 --fron-literal key2=value2&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;How to create secret ?
$ oc create secret generic secret_name --from-literal username=user1 --from-literal password=password1&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;How to create configmap from a file
$ oc create configmap config_map_name --from-file /home/file.txt &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Where file name is the key and values inside the file.txt is the value &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;ConfigMap can be shortened as cm &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;How to create a secret from file ?
$ oc create secret generic my_secret --from-file /home/secret.txt &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;How to edit YAML instead of base64 encoding for the passwords/usernames
Use &amp;#x27;stringValue&amp;#x27; instead of &amp;#x27;data&amp;#x27; for JSON key. See Below for the full example &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1 &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;stringValue: #instead of data &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  username: user1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  password: pass1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Secret&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  name: my_secret&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  type: Opaque&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Injecting Secrets and Configuration to Pods&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;to inject as env var &lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;$ oc set env dc/mydcname --from configmap/myconfig&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;to inject secret as env &lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;$ oc set env dc/mydcname --from secret/mysecret&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;to inject cm as volume &lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;$ oc set volume dc/mydcname --add -t configmap -m /var/path --name myvol --configmap-name myconf &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;a lot to unpack, --add is for addition, -t is for type, -m mount path --name is volume name, --configmap-name is obvious &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to inject secret as volume &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;$ oc set volume dc/mydcname --add -t secret -m /var/path --name myvol --secret-name mysecret &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;how to prevent dc to rollout for every configmap change (in case multiple provided back to back )&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;$ oc set triggers dc/mydcname --from-config --remove &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;how to start dc to rollout everytime a change is made &lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;$ oc set triggers dc/mydcname --from-config &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;how to rollout the latest deployment, after configuration changes?&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;$ oc rollout latest mydcname &lt;/p&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;3. Publishing enterprise Container Images&lt;/h1&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Managing Images in an Enterprise / Public Registry&lt;/h2&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Aim:&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Copy image from one registry to another with Skopeo&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Deploy the application image from a public or enterprise registry&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;To deploy the image you have to create docker pull secret &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Let&amp;#x27;s begin:&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Login to quay.io where we will store the image podman &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ podman login -u username quay.io&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;copy the oci image to quayio with skopeo &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ skopeo copy oci:/home/folder/path docker://quay.io/user/image:tag &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;inspect the image if you want or search for it or run it locally to ensure that it is running &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ skopeo inspect docker://quay.io/user/image:tag &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;$ podman search imagename &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;$ podman run imagename &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Deploy the image to OpenShift&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;login to OpenShift and create a new project &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;If you try to deploy the image from an external registry it will fail &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc new-app --docker-image quay.io/etc #THIS WILL FAIL BECAUSE OCP NEEDS CREDENTIALS&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Create a secret &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc create secret generic secretname --from-file .dockerconfigjson=/path/to/auth.json --type kubernetes.io/dockerconfigjson&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;if you are using dockercfg as .dockercfg file instead of .docker/config.json file, then type is kubernetes.io/docercfg&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Link the secret &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc secrets link default secretname --for-pull &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Now create the application &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc new-app --as-deployment-config --name name --docker-image quay.io/image/name:tag &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Allowing Access to OpenShift Registry&lt;/h2&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Aim:&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Access the OCP Internal Registry with Linux container tools (docker/podman)&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;You need admin rights to expose the internal container registry &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;OpenShift Image Registry Operator manages the registry and settings are in the cluster config in openshift-image-registry namespace &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To expose the registry &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc patch config cluster -n openshift-image-registry --type merge -p &amp;#x27;{&amp;quot;spec&amp;quot;:{&amp;quot;defaultRoute&amp;quot;:true}}&amp;#x27;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Get the route &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc get routes -n openshift-image-registry &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;login to docker / podman with ocp &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ HOST=$(oc get route default-route -n openshift-image-registry --template=&amp;#x27;{{ .spec.host }}&amp;#x27;)&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;$ podman/docker login -u $(oc whoami) -p $(oc whoami -t) $HOST&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;inspect with skopeo after podman/docker login&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ skopeo inspect --creds=$(oc whoami):$(oc whoami -t) docker://namespace-route-openshift.domain/namespace/app &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;copy image to ocp registry &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ skopeo copy --dest-creds=$(oc whoami):$(oc whoami -t) SOURCE-IMAGE DESTINATION-IMAGE&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Creating Image Streams&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;list image streams &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc get is [-n namespace if you want to see imgs from other ns, -o name if you just want the names ]&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;get the is tag &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc get istag &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 class=&quot;css-1p1kpni&quot;&gt;Import Image from Other Repository into OCP Internal Registry&lt;/h3&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;import from another registry &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc import-image myis[:tag] --confirm --from registry/image:tag &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to update the image stream with the latest from the registry
$ $ oc import-image myis[:tag] --confirm &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to create image streams from other repos you need pull secrets&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;so login with podman to the repo &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;create generic secret &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;import image &lt;/li&gt;&lt;/ol&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ podman login -u username -p password registry.link &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc create secret generic registrytokenname --from-file .dockerconfigjson=/path --type kubernetes.io/dockerconfigjson&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc import-image myis:1.0 --confirm --from registry.link&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;to deploy the app via is &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc new-app --as-deployment-config -i myis:1.0&lt;/li&gt;&lt;/ul&gt;&lt;h3 class=&quot;css-1p1kpni&quot;&gt;Sharing IS between namespaces&lt;/h3&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Create a secret with an access token to the private registry only on the project where you create the image stream&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Configure that image steam with a local reference policy. &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Grant rights to use the image stream to service accounts from each project that uses the image steam. &lt;/li&gt;&lt;/ol&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ podman login -u user -p password &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc new-project [myNewNamespaceThatWillImportImages]&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc new-project [shared] &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc create secret generic regtoken --from-file .dockerconfigjson=/path -t kubernetes.io/dockerconfigjson&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc import is [myis] --confirm --reference-policy local --from [internal.ocp.registry] # add reference policy&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc policy add-role-to-group system:image-puller system:serviceaccounts:[myNewNamespaceThatWillImportImages]&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc new-app --as-deployment-config -i shared/[myis] &lt;/li&gt;&lt;/ul&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;4. Building Applications&lt;/h1&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;4.1 Describe the OCP Build Process&lt;/h2&gt;&lt;h3 class=&quot;css-1p1kpni&quot;&gt;Build Strategies in OCP&lt;/h3&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Source &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Pipeline &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Docker &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Custom &lt;/li&gt;&lt;/ul&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Pipeline build creates a new Jenkins server, subsequent builds share the same jenkins server &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Docker requires dockerfile, runs on buildah base img in a pod &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Custom is custom &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h3 class=&quot;css-1p1kpni&quot;&gt;Build Input Sources&lt;/h3&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Dockerfile : self explanatory&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Git : repo name &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Image : if you are building from an img &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Binary : Stream binary content from a local Filesystem to the builder &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Input secrets &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;External artifacts : Allow copying binary files to the build &lt;/li&gt;&lt;/ul&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;That said most common one is build with Dockerfile in Git repo &lt;/li&gt;&lt;/ul&gt;&lt;h3 class=&quot;css-1p1kpni&quot;&gt;Build Config Resource&lt;/h3&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Build Config Sets triggers when the image should be rebuilt &lt;/p&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;4.2 Managing App Build&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;You got 2 options, oc new-app or YAML &lt;/li&gt;&lt;/ul&gt;&lt;h3 class=&quot;css-1p1kpni&quot;&gt;Build Config using CLI&lt;/h3&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;oc start-build &lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc start-build name &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;4.5 Trigger Build&lt;/h2&gt;&lt;h3 class=&quot;css-1p1kpni&quot;&gt;Defining Build Triggers&lt;/h3&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;you got 2 options &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;img change &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;webhook &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;if the parent img changes, img change trigger &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;use webhook to trigger new builds once the code is changed &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to add trigger to a build config use set triggers &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to trigger if the parent img changes&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc set triggers bc/name --from-image=project/image:tag &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to stop trigger just add --delete flag to the end from the trigger &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;for webhook trigger you MUST define a SECRET, with a KEY: &amp;#x27;WebHookSecretKey&amp;#x27; &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;oc new-app creates git and generic secrets to use, just take the secrets and add to your VCS &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;if you want github/gitlab or bitbucket you can just add --from-...&lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;oc set triggers bc/name --from-github &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;to remove just add --delete flag &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to build images from source images, such as my custom php 7.0, you need to be able to pull the image and build it &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;service account builder does that for you, just need to add secret and link to it so the robot has the rights &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc create secret generic secret-name --from.file .dockerconfigjson=/path/ --type kubernetes.io/dockerconfigjson &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc secrets link builder secret-name &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;then import the image &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc import-image imgname --from quay.io/path --confirm &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;then create the new app, if you import-image to your internal registry with a new base, then it will re trigger build &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;4.7 Implementing Post-commit build hook&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Once the app is built and img is deployed you can run post build hooks one example is to run a script post build &lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc set build-hook bc/name --post-commit --script=&amp;quot;curl &lt;style data-emotion-css=&quot;1od09yo&quot;&gt;.css-1od09yo{color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-1od09yo:hover{-webkit-text-decoration:underline;text-decoration:underline;}&lt;/style&gt;&lt;a href=&quot;http://slack.com/push/notification%22&quot; class=&quot;css-1od09yo&quot;&gt;http://slack.com/push/notification&amp;quot;&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;5. Customize S2I Build&lt;/h1&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;5.1 Describe the S2I Arch&lt;/h2&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;5.3 Cusomize the S2I Base Image&lt;/h2&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;5.5 Create an S2I builder Img&lt;/h2&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;6. Create Apps from OCP Template&lt;/h1&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;6.1 Describe the Elements of a Template&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;OCP Template is the Helm Chart for Kubernetes &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;why use templates? Software Vendor to deploy all at once or multi tier application for testing environment (web/backend/db)&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;The only difference is: template uses &amp;#x27;objects&amp;#x27; instead of &amp;#x27;spec&amp;#x27;&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;In the template you can inject params too and a common label for all objects&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;also you can inject random default params/values too, see the YAML below &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: template.openshift.io/v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Template &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;metadata: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  name: mytemp &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  annotations:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    description: &amp;quot;Descibe here&amp;quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;objects:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;- apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  kind: Pod &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  # does that look familiar?&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    #bla bla &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    name: ${MYPARAM}&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;#params to be injected to the objects&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;parameters: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: MYPARAM&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    value: delta &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    required: true &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    description: &amp;quot;describe the reason here&amp;quot; &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: APIKEY&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    generate: expression &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    from: &amp;quot;[a-zA-Z0-9]{12}&amp;quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;27&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    description: random string generated by the template at run time &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;28&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;#labels for the resources &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;29&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;labels:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  mylabel: myapp&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;$ oc get templates -n openshift &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;to view the params for the template &lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;$ oc process --parameters -n openshift nodejs-mongdb-template &lt;/p&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;6.3 Create a Multicontainer template&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Question for this section could be create a multi container template from existing resources &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;use the following to export all objects as a template. Very Important! &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc get -o yaml --export secret, is,bc,dc,svc,route, pvc &amp;gt; mytemplate.yaml &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;order is important, secrets first don&amp;#x27;t wait for them, pvc last because it takes time to bind &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To describe OpenShift resouce type use oc explain routes, to get nested level response oc explain routes.spec &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;oc new-app and oc process uses templates to create Applications from Templates;&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to pass parameters to oc new-app add -p flag &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc new-app --file mytemplate.yaml -p PARAM1=value1 -p PARAM2=value2&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to create a template with oc process with params, you need to send to a yaml file first then use oc create to deploy
$ oc process -f mytemplate.yaml -p PARAM1=value1 &amp;gt; myresourcelist.yaml
$ oc create -f myresourcelist.yaml &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;or your can just pipe it &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;$ oc process -f mytemplate.yaml -p PARAM1=value1 | oc create -f -&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To find which params you need to pass to template &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;oc process -f mytemplate.yaml --parameters &lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;OpenShift recommends oc new-app rather than oc process&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Potential Exam Questions: Creating MultiContainer &lt;/p&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Create a template from a running application &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Clean the template to remove runtime information (manually delete info from YAML)&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Add parameters to a template &amp;quot;remember the -p flag?&amp;quot;&lt;/li&gt;&lt;/ol&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;When you try to export multiple items but get an error, you can just add one by one and append to a file&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;$ oc get -o yaml is --export &amp;gt; /tmp/is.yaml
$ cp /tmp/is.yaml /tmp/is-clean.yaml &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;TODO: COMPLETE THE GUIDED EXERCISE!&lt;/p&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;7. Managing App Deploy&lt;/h1&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;7.1 Monitor the health&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Liveliness and readiness &lt;/li&gt;&lt;/ul&gt;&lt;h3 class=&quot;css-1p1kpni&quot;&gt;OpenShift Readiness and Liveliness Probes&lt;/h3&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Five options to check Liveliness and Readiness&lt;/li&gt;&lt;/ul&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;initialDelaySeconds [mandatory] How long to wait after the container starts before beginning the probe &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;timeoutSeconds [mandatory] How long to wait for the probe to finish. If exceeded, probe fails &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;periodSeconds How many times to check &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;successThreshold : minimum consecutive success to be considered successful &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;failureThreshold : ditto for failure &lt;/li&gt;&lt;/ol&gt;&lt;h3 class=&quot;css-1p1kpni&quot;&gt;Methods to check&lt;/h3&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Three ways to check &lt;/li&gt;&lt;/ul&gt;&lt;ol class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;HTTP Checks &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Container Execution Check &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;TCP Socket Check &lt;/li&gt;&lt;/ol&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;HTTP Check &lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;livelinessProbe:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  httpGet:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    path: /health&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    port: 8080 &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  initialDelaySeconds: 10&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  timeoutSeconds: 1&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* When to use HTTP Check: When you have a REST API and apps that can return HTTP Status code &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* Container Exec Check&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;...
livelinessProbe:
exec:
command:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;- cat &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;- /tmp/health&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;  initialDelaySeconds: 10
timeoutSeconds: 1&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* When to run Container Exec Check: When container runs a process or shell script running in the container &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* TCP Socket Check&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;...
livelinessProbe
tcpSocket:
port: 8080
initialDelaySeconds: 15
timeoutSeconds: 1&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* When to run TCP Socket Check: When you run deamons and open TCP ports: DB Servers, APP Servers, File Servers, Web Servers etc. &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* How to set probes on the UI? open up the YAML and edit &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* How to set probes on the CLI? &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  * $ oc set probe dc/myapp --readiness --get-url=http://:8080/healthz --period=20 &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  * $ oc set probe dc/myapp --liveliness --open-tcp=3306 --period=20 --timeout-seconds=1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  * $ oc set probe --help to learn more &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;TODO: complete the demo&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;## 7.3 Seelct Appropriate Deploy Strategy &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;### Deployment Strategies &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* A deployment strategy is a method of changing or upgrading an app &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* Two Deployment Strategies: Deployment Configuration for the deployment strategy and other one is use Router to route to certain pods; &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  * For Deployment Strategy you can use Rolling or Recrate&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  * For Route AB Deployment, Blue-Green, N-1 Compatibility, Graceful Termination &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  * Let&amp;#x27;s first talk about Deployment Strategies then Router below&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* Deployment Strategies&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;27&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* This is the default if you do nothing &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;28&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;29&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* It uses readiness probes to see, and it is a canary deployment, deploy one to test, if doesn&amp;#x27;t work do not deploy &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* Recrate: When you use PVs with RWO access which does not allow writes from multiple pods, then you should use Recrate, sorry dude &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;33&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;* Life-cycle hooks with deployment strategies: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;34&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  * Both deployment strategies work with LC Hooks &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  * Pre/Mid/Post LC hooks are executed during the deployments &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;36&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  * Each Hook has failurePolicy that you can run when a hook fails. You can Abort/Retry or Ignore &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;37&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;38&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;41&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;42&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;## 7.5 Manage App Deploy with CLI &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;43&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;44&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# 8. CI/CD Pipelines &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;46&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;## 8.3 Implement Jenkins &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;47&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;48&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;## 8.5 Custom Jenkins Pipeline &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;49&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# 9. Building Apps for Openshift &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;51&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;52&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;## 9.1 Integrating External Services &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;53&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;54&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;## 9.3 Containerize Svc &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;55&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;56&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;## 9.5 Deploy Apps with OCP Runtimes &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;57&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;58&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# End&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;61&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;62&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;export const _frontmatter = {&amp;quot;title&amp;quot;:&amp;quot;DO288 Red Hat OpenShift Development II Containerizing Applications&amp;quot;,&amp;quot;date&amp;quot;:&amp;quot;2021-01-15T00:00:00.000Z&amp;quot;,&amp;quot;description&amp;quot;:&amp;quot;Summary notes for my Red Hat Certified Specialist in OpenShift Application Development EX180 Exam&amp;quot;,&amp;quot;tags&amp;quot;:[&amp;quot;Tutorial&amp;quot;,&amp;quot;OpenShift&amp;quot;,&amp;quot;Containers&amp;quot;,&amp;quot;Kubernetes&amp;quot;,&amp;quot;K8s&amp;quot;]}&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Red Hat OpenShift I Containers Kubernetes]]></title><link>http://orhanibm.github.io/mynotes/red-hat-open-shift-i-containers-kubernetes</link><guid isPermaLink="false">http://orhanibm.github.io/mynotes/red-hat-open-shift-i-containers-kubernetes</guid><pubDate>Fri, 15 Jan 2021 05:00:00 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;1hycliv&quot;&gt;body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}&lt;/style&gt;&lt;style data-emotion-css=&quot;tm2q0o&quot;&gt;*{box-sizing:border-box;}body{margin:0;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}&lt;/style&gt;&lt;style data-emotion-css=&quot;1ccrm8j&quot;&gt;.css-1ccrm8j{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width:640px){.css-1ccrm8j{font-size:1rem;}}@media screen and (min-width:768px){.css-1ccrm8j{font-size:1.25rem;}}&lt;/style&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;These are my notes for my exam prep and may not contain all the important aspects.&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;I am keeping notes for the areas that I find important and worthwile remembering &lt;/p&gt;&lt;style data-emotion-css=&quot;s5k39c&quot;&gt;.css-s5k39c{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:768px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:1024px){.css-s5k39c{font-size:4rem;}}&lt;/style&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Attaching Persistent Storage to Containers&lt;/h1&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;A container runs as a process in the host system, under a host O/S user and group ID &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;So the host directory needs to be configured with the ownership and permissions allowing access to the container.&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;In RHEL, the host directory needs to be configured with the appropriate SELinux context &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;The SELinux context is &lt;code class=&quot;css-0&quot;&gt;container_file_t&lt;/code&gt; in RHEL. &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Podman uses `container_file_t1 SELinux context restricts the containers access to host files &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;The purpose is to avoid leakage between the container and host &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;One way to set up host directory is &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;style data-emotion-css=&quot;l84w3r&quot;&gt;.css-l84w3r{background-color:rgba(107,70,193,0.2);border:none;color:var(--theme-ui-colors-gray-2,#edf2f7);cursor:pointer;font-size:14px;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;-webkit-transition:default;transition:default;position:absolute;top:0;right:0;z-index:1;border-radius:0 0 0 0.25rem;padding:0.25rem 0.6rem;}@media screen and (min-width:640px){.css-l84w3r{font-size:14px;}}@media screen and (min-width:768px){.css-l84w3r{font-size:16px;}}.css-l84w3r[disabled]{cursor:not-allowed;}.css-l84w3r:not([disabled]):hover{background-color:var(--theme-ui-colors-primary,#6b46c1);color:var(--theme-ui-colors-white,#fff);}&lt;/style&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;style data-emotion-css=&quot;1gy8470&quot;&gt;.css-1gy8470{border:0;-webkit-clip:rect(0,0,0,0);clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}&lt;/style&gt;&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ sudo mkdir /var/dbfiles &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# If the host machine does not have the exactly the same user defined, the permission should be defined with the numeric userID from the container.&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# For instance in the case of Red Hat provided MySQL service, the UID is 27 &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ sudo chown -R 27:27 /var/dbfiles&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# the output is: changed ownership of &amp;#x27;var/dbfiles&amp;#x27; from root:root to 27:27 &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# then apply container_file_t context to the directory to allow containers to access to all of its contents &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ sudo semanage fcontext -a -t container_file_t &amp;#x27;/vardbfiles(/.*)?&amp;#x27;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# apply SELinux container policy that you set up in the first step to the newly created dir &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ sudo restorecon -Rv /var/dbfiles &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# now you are ready to mount the /vard/dbfiles to the container&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Accessing containers&lt;/h1&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;CNCF sponsors the Container Networking Interface open project. &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Podman uses CNI project to implement SDN (software defined network) for containers &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Podman attaches each container to a virtual bridge and assign each container a private IP&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Container configuration is at /etc/cni/net.d/87-podman-bridge.conflist &lt;/p&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Configuring Registries&lt;/h1&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;In RHEL, the podman configuration is in /etc/containers/registries.conf file &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;If you are using the latest RHEL, just uncomment the line to include docker.io, quay.io under [registries.search] section &lt;/p&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Manipulating Container Images&lt;/h1&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# to save a container as .tar file &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ podman save -o [filename.tar] [sourceImage:tag]&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;# to load a tar into images &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ podman load -i [filename.tar]&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Appsody and Tekton]]></title><link>http://orhanibm.github.io/mynotes/appsody-and-tekton</link><guid isPermaLink="false">http://orhanibm.github.io/mynotes/appsody-and-tekton</guid><pubDate>Mon, 02 Mar 2020 05:00:00 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;1hycliv&quot;&gt;body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}&lt;/style&gt;&lt;style data-emotion-css=&quot;tm2q0o&quot;&gt;*{box-sizing:border-box;}body{margin:0;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}&lt;/style&gt;&lt;style data-emotion-css=&quot;1ccrm8j&quot;&gt;.css-1ccrm8j{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width:640px){.css-1ccrm8j{font-size:1rem;}}@media screen and (min-width:768px){.css-1ccrm8j{font-size:1.25rem;}}&lt;/style&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;This article is a collation of many great resources by IBMers.&lt;/p&gt;&lt;style data-emotion-css=&quot;s5k39c&quot;&gt;.css-s5k39c{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:768px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:1024px){.css-s5k39c{font-size:4rem;}}&lt;/style&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Purpose:&lt;/h1&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To provide CI/CD pipelines on IBM Cloud. That means, you just focus on writing your business logic and test suites, let IBM take care of the rest, with Cloud Pak for Apps.&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;  Toolkit:&lt;/p&gt;&lt;style data-emotion-css=&quot;15rlv7r&quot;&gt;.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}&lt;/style&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;IDE: VSCode&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Containerization: Docker &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;App scaffolding &amp;amp; containerization best practices: Appsody &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Versioning: Git &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Source of truth/ repository: Github (with webhook)&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Deployment/ Pipelines: Tekton &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Cloud: IBM Cloud &lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;Cluster: Red Hat OpenShift Container Platform v 4.3&lt;/li&gt;&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Kafka 101]]></title><link>http://orhanibm.github.io/mynotes/kafka-101</link><guid isPermaLink="false">http://orhanibm.github.io/mynotes/kafka-101</guid><pubDate>Fri, 14 Feb 2020 05:00:00 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;1hycliv&quot;&gt;body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}&lt;/style&gt;&lt;style data-emotion-css=&quot;tm2q0o&quot;&gt;*{box-sizing:border-box;}body{margin:0;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}&lt;/style&gt;&lt;style data-emotion-css=&quot;s5k39c&quot;&gt;.css-s5k39c{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:768px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:1024px){.css-s5k39c{font-size:4rem;}}&lt;/style&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Kafka Concepts&lt;/h1&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Start Server&lt;/h1&gt;&lt;style data-emotion-css=&quot;7tlrlz&quot;&gt;.css-7tlrlz{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-7tlrlz{font-size:2.25rem;}}@media screen and (min-width:768px){.css-7tlrlz{font-size:2.25rem;}}@media screen and (min-width:1024px){.css-7tlrlz{font-size:3rem;}}&lt;/style&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Start Zookeeper and Kafka Servers&lt;/h2&gt;&lt;style data-emotion-css=&quot;1ccrm8j&quot;&gt;.css-1ccrm8j{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width:640px){.css-1ccrm8j{font-size:1rem;}}@media screen and (min-width:768px){.css-1ccrm8j{font-size:1.25rem;}}&lt;/style&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;After downloading the binary, unzip it and go to the main folder that is unzipped&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;style data-emotion-css=&quot;l84w3r&quot;&gt;.css-l84w3r{background-color:rgba(107,70,193,0.2);border:none;color:var(--theme-ui-colors-gray-2,#edf2f7);cursor:pointer;font-size:14px;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;-webkit-transition:default;transition:default;position:absolute;top:0;right:0;z-index:1;border-radius:0 0 0 0.25rem;padding:0.25rem 0.6rem;}@media screen and (min-width:640px){.css-l84w3r{font-size:14px;}}@media screen and (min-width:768px){.css-l84w3r{font-size:16px;}}.css-l84w3r[disabled]{cursor:not-allowed;}.css-l84w3r:not([disabled]):hover{background-color:var(--theme-ui-colors-primary,#6b46c1);color:var(--theme-ui-colors-white,#fff);}&lt;/style&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;style data-emotion-css=&quot;1gy8470&quot;&gt;.css-1gy8470{border:0;-webkit-clip:rect(0,0,0,0);clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}&lt;/style&gt;&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ tar -xzf kafka_zipped_version_here.tgz&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ cd kafka_unzipped_folder&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Start Zookeeper server:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ bin/zookeeper-server-start.sh config/zookeeper.properties&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;On another terminal, start Kafka server:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ bin/kafka-server-start.sh config/server.properties&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Create a topic&lt;/h2&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To create a topic on the zookeeper, with 3 partition and single replica factor&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ kafka-topics zookeeper 127.0.0.1:2181 --topic first_topic --create --partitions 3 --replication-factor 1&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Recall that the replica factor cannot be greater than the brokers, if you have a single broker, you cannot have a replica broker...&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To see the details of the first_topic &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ kafka-topics zookeeper 127.0.0.1:2181 --topic first_topic --describe&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To list the topics &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ kafka-topics zookeeper 127.0.0.1:2181 --list&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To delete the topic, other than Windows systems&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ kafka-topics zookeeper 127.0.0.1:2181 --topic first_topic --delete&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Producer&lt;/h2&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Now we created topics, let&amp;#x27;s send datastreams to the topics &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;First of all, let&amp;#x27;s get the help file &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;When you are in the installation folder in your linux terminal, type:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ bin/kafka-console-producer.sh&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;This shows the help concepts, note that --broker-list and --topic are required fields to send data to the brokers &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To send data on the first_topic just type&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ bin/kafka-console-producer.sh --broker-list 127.0.0.1:9092 --topic first_topic &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;when you hit enter, a caret will appear, and you can type your messages
to end the message stream, hit Ctrl + C&lt;/p&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Consumer&lt;/h2&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Now we created data producers, let&amp;#x27;s consume them &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;First of all, let&amp;#x27;s get the help file &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;When you are in the installation folder in your linux terminal, type:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ bin/kafka-console-consumer.sh&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Note that the bootstrap-server is required, while not noted as required, the topic is also used &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to consume the data from the topic &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ bin/kafka-console-consumer.sh --bootstrap-server 127.0.0.1:9092 --topic first_topic&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;when you hit the enter, there is a caret that appears but we cannot read any message from the first topic &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;This is because, we set the consumer to read the messages realtime from now on&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;So, if you open a new console and start feeding messages to the first_topic, you will see the message appearing on the consumer terminal &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Let&amp;#x27;s do it, don&amp;#x27;t close the consumer console above but start another console&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ bin/kafka-console-producer --broker-list 127.0.0.1:9092 --topic first_topic &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;&amp;gt; my first datastream&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;should appear on the consumer terminal as well, voila! &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To read all messages from the beginning, just add the --from-beginning flag to the end &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;$ bin/kafka-console-consumer.sh --bootstrap-server 127.0.0.1:9092 --topic first_topic --from-beginning&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content:encoded></item><item><title><![CDATA[Certified Kubernetes Application Developer]]></title><link>http://orhanibm.github.io/mynotes/certified-kubernetes-application-developer</link><guid isPermaLink="false">http://orhanibm.github.io/mynotes/certified-kubernetes-application-developer</guid><pubDate>Mon, 10 Feb 2020 05:00:00 GMT</pubDate><content:encoded>&lt;style data-emotion-css=&quot;1hycliv&quot;&gt;body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}&lt;/style&gt;&lt;style data-emotion-css=&quot;tm2q0o&quot;&gt;*{box-sizing:border-box;}body{margin:0;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}&lt;/style&gt;&lt;style data-emotion-css=&quot;1ccrm8j&quot;&gt;.css-1ccrm8j{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;word-break:break-word;}@media screen and (min-width:640px){.css-1ccrm8j{font-size:1rem;}}@media screen and (min-width:768px){.css-1ccrm8j{font-size:1.25rem;}}&lt;/style&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;This post is just notes to myself for my CKAD exam prep &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Linux Foundation and CNCF together prepare CKAD exam&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;DEVOPS15 gets you 15% discount when registering for the exam &lt;/p&gt;&lt;style data-emotion-css=&quot;s5k39c&quot;&gt;.css-s5k39c{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:2.25rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:768px){.css-s5k39c{font-size:3rem;}}@media screen and (min-width:1024px){.css-s5k39c{font-size:4rem;}}&lt;/style&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Core Concepts&lt;/h1&gt;&lt;style data-emotion-css=&quot;7tlrlz&quot;&gt;.css-7tlrlz{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-7tlrlz{font-size:2.25rem;}}@media screen and (min-width:768px){.css-7tlrlz{font-size:2.25rem;}}@media screen and (min-width:1024px){.css-7tlrlz{font-size:3rem;}}&lt;/style&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Nodes, Clusters&lt;/h2&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Node is a single machine, that can have multiple pods &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Cluster is the combination of multiple machines, or nodes &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Master node is configured to manage cluster of machines &lt;/p&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Components&lt;/h2&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;API Server: the front end of the cluster &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;etcd: store the data to manage the cluster, key:value pairs&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Scheduler: distributing works across the cluster&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Controller: brain of the cluster, makes decision to run containers&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Container runtime: in this case docker &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;kubelet: agents running in the nodes &lt;/p&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Master vs Worker nodes&lt;/h2&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Worker node is where containers are hosted&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;We need container runtime to execute container processes &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Pod is the simplest form of K8s object&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Pod has 1 to 1 relationship between Pod and Container, thus to scale up, increase pods&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;However, if there is a helper container, it can be deployed to the pod too&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Remember, aim is to build replicas that can be increased/decreased as necessary&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To find the Nginx image from dockerhub and run in a pod &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;style data-emotion-css=&quot;l84w3r&quot;&gt;.css-l84w3r{background-color:rgba(107,70,193,0.2);border:none;color:var(--theme-ui-colors-gray-2,#edf2f7);cursor:pointer;font-size:14px;font-family:&quot;IBM Plex Sans&quot;,-apple-system,BlinkMacSystemFont,&quot;Segoe UI&quot;,Roboto,&quot;Helvetica Neue&quot;,Arial,&quot;Noto Sans&quot;,sans-serif,&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Noto Color Emoji&quot;;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;-webkit-transition:default;transition:default;position:absolute;top:0;right:0;z-index:1;border-radius:0 0 0 0.25rem;padding:0.25rem 0.6rem;}@media screen and (min-width:640px){.css-l84w3r{font-size:14px;}}@media screen and (min-width:768px){.css-l84w3r{font-size:16px;}}.css-l84w3r[disabled]{cursor:not-allowed;}.css-l84w3r:not([disabled]):hover{background-color:var(--theme-ui-colors-primary,#6b46c1);color:var(--theme-ui-colors-white,#fff);}&lt;/style&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;style data-emotion-css=&quot;1gy8470&quot;&gt;.css-1gy8470{border:0;-webkit-clip:rect(0,0,0,0);clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;}&lt;/style&gt;&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl run nginx --image nginx&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;then get the pods running &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl get pods&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;It is also possible to deploy a pod via yaml file &lt;/p&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;pod.definition.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;pod.definition.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;pod.definition.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Pod &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  name:myapp-pod&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  label:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    app: myapp&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    type: front-end&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  annotation:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  containers: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    - name: my-container-name-definition&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      image: nginx&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Metadata children are name and labels &lt;/p&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Pods&lt;/h2&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To create a redisapp pod with redis image imperative way &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl run redis --image=redis --generator=run-pod/v1&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;For more info on generators:
&lt;style data-emotion-css=&quot;1od09yo&quot;&gt;.css-1od09yo{color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-1od09yo:hover{-webkit-text-decoration:underline;text-decoration:underline;}&lt;/style&gt;&lt;a href=&quot;https://kubernetes.io/docs/reference/kubectl/conventions/#generators&quot; class=&quot;css-1od09yo&quot;&gt;https://kubernetes.io/docs/reference/kubectl/conventions/#generators&lt;/a&gt;&lt;/p&gt;&lt;style data-emotion-css=&quot;15rlv7r&quot;&gt;.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}&lt;/style&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;To edit pods where a pod definition is not given&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl get pod &amp;lt;pod-name&amp;gt; -o yaml &amp;gt; pod-definition.yaml&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Important: you have to delete and re-create the pod &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl delete pod &amp;lt;pod-name&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl apply -f pod-definition.yaml&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;To edit pod properties&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl edit pod &amp;lt;pod-name&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Replication controller&lt;/h2&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;We need replication controller to manage the desired state and scaling&lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Replication controller is the old version of the Replica Sets &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Skeleton yaml file below for Replication Controller, not complete&lt;/p&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;rc-definition.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;rc-definition.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;rc-definition.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;kind: ReplicationController&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  template:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  ... #Pod definition here, without apiVersion and kind &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  replicas: 3&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;A simple version&lt;/p&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;rc-definition.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;rc-definition.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;rc-definition.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;kind: ReplicationController&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  name: myapp-rc&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  labels:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    app: myapp&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    type: front-end&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  template:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      name: myapp&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      labels:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;        app:myapp&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      - name: nginx-controller&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;        image: nginx&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  replicas: 3&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Now let&amp;#x27;s look at a replicaset definition: &lt;/p&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;replicaset-definition.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;replicaset-definition.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;replicaset-definition.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: apps/v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;kind: ReplicaSet&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  name: myapp-rs&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  labels:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    app: myapp&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    type: front-end&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  template:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      name: myapp&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      labels:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;        app:myapp&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      - name: nginx-controller&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;        image: nginx&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  replicas: 2&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  selector:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    matchLabels:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      app:myapp&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Note that replicaset requires selectors, unlike replica controller &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;declarative way to update replicaset pods &lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl replace -f replicaset-manifest.yaml&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;where in the replicaset-manifest.yaml file we updated the replicas &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;another way is to just update the file and use apply command &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl apply -f replicaset-manifest.yaml&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;the imperative ways of doing the same:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl scale --replicas=3 rs/myapp&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;#OR&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl scale --replicas=3 -f replicaset-manifest.yaml &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;#OR &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl scale --replicas=3 replicaset name=myapp&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;the code above assumes that repliaset is different than 3, and the replicaset name is myapp&lt;/p&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Deployments&lt;/h2&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Create a deployment and scale it up, imperatively &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl create deployment webapp --image=kodekloud/webapp-color&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl scale deployment/webapp --replicas=3&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;then expose the deployment created, containers listen on 8080 and expose the service port 30082, expose as NodePort&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl expose deployment webapp --type=NodePort --port=30082 --target-port=8080 --name=webapp-service&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Just a few tricks for the exam:
use --dry-run=client and -o yaml options to try if the code will work, instead of waiting pods to come online &lt;/p&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Namespaces&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to create a namespace, you can use a yaml file with namespace in the metadata &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;you can also do it imperatively by creating a ns, $ kubectl create ns namespace-name&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to refer to other pods in another namespace, just append --namespace flag to the end &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to create pods in an another namespace, you can also use namespace tag under the metadata, similar to name, label, annotations &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to switch, use set-context  under the config &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl config set-context mycurrentnamespace --namespace=myothernamespace&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;if you don&amp;#x27;t remember your current context or don&amp;#x27;t want to look it up &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl config set-context $(kubectl config current-context) --namespace=SwitchToThisNamespace&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;to set quota for a namespace, you can use ResourceQuota kind yaml&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;rc-definition.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;rc-definition.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;rc-definition.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;kind: ResourceQuota&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  name: compute-quota&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  namespace: dev&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  hard:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    pods: &amp;quot;10&amp;quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    requests.cpu: &amp;quot;4&amp;quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    requests.memory: 5Gi&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    limits.cpu: &amp;quot;10&amp;quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    limits.memory: 10Gi&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;to connect to a source within the same namespace, you can directly refer to it,&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;to connect to a source in a different namespace, you use servicename.namespace.svc.cluster.local such as, db.prod.svc.cluster.local &lt;/li&gt;&lt;/ul&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Configuration&lt;/h1&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Commands and Arguments in YAML&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Docker Commands&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To run a container use &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ docker run &amp;lt;image-name&amp;gt;&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;docker build from dockerfile &lt;/p&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;Dockerfile&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;Dockerfile&quot;&gt;&lt;pre class=&quot;prism-code language-Dockerfile&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;Dockerfile: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;Dockerfile: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-Dockerfile&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;FROM busybox&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;CMD [&amp;quot;Sleep&amp;quot;, &amp;quot;5&amp;quot;]&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Then use docker build function to run the Ubuntu container
The Ubuntu container will run and exit after 5 seconds &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;What if you want to run the container but sleep after 10 seconds, but wanted to keep the default option as 5 seconds &lt;/p&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;Dockerfile&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;Dockerfile&quot;&gt;&lt;pre class=&quot;prism-code language-Dockerfile&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;Dockerfile: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;Dockerfile: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-Dockerfile&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;FROM busybox&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;ENTRYPOINT [&amp;quot;Sleep&amp;quot;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;CMD [&amp;quot;5&amp;quot;]&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ docker build -t mybusybox .&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ docker run --name mybboxcontainer mybusybox 10&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;How can you pass these arguments via kubernetes yaml?&lt;/p&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;arguments-manifest.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;arguments-manifest.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;arguments-manifest.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Pod&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  name: busybox &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    - name: busybox-container&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      image: mybusybox&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      args: [&amp;quot;10&amp;quot;]&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;note that the image name must match our docker build image tag, pushed to the dockerhub
so we can conclude that args overrides CMD &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;what if I want to override the ENTRYPOINT?, then add command above args &lt;/p&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;arguments-manifest.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;arguments-manifest.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;arguments-manifest.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Pod&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  name: busybox &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    - name: busybox-container&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      image: mybusybox&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      command: [&amp;quot;sleep&amp;quot;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      args: [&amp;quot;10&amp;quot;]&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Environment Variables&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;how to pass environment variables to pods? &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;env:&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;name: APP_COLOR
value: pink &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;Note that the environment variables are arrays, hence the dash &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;Structure must be name/value pairs&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Also possible to pass information via configMaps and Secrets &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;env: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: APP_COLOR&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    valueFrom: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      configMapKeyRef:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: APP_SECRET&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    valueFrom:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      secretKeyRef:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;...&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;configMaps&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Motivation of configMap is to cope with increasing complexity under env tags &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;As the application grows, managing each env under Pod definition gets more complex, so configMaps are to rescue &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;configMap variables are key value pairs and injected to pods &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Typical of k8s, we can do it imperatively and declaratively, before injecting to pods &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Imperatively:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl create configmap &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  configName --from-literal=key=value&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl create configmap&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  configName --from-file=config.filepath&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Declaratively:&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl create -f configmap.yaml&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;configmap.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;configmap.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;configmap.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;kind: configMap&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;metadata: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  name: app-config &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;data:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  key:value&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  anotherkey:anothervalue&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;How to refer to configmaps in pod template?&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;pod-template.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;pod-template.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;pod-template.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Pod &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  name: simple-app&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  labels:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    env: dev&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;spec: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    - name: containername&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      image: mycontainerimage&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      ports:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;        - containerPort: 8080&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      envFrom:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;        - configMapRef:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;            name: app-config #Must match configMap name&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;there are 3 ways to inject variables &lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;#option 1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;envFrom:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - configMapRef: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      name: app-config &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;#option 2 (as single env)&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;env: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: CONFIG_KEY&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    valueFrom:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      configMapKeyRef:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          name: app-config &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          key: CONFIG_KEY&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;#option 3&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;volumes:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: app-config-volume &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    configMap:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      name: app-config&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Secrets&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Motivation is similar to configMap but for secret items such as api keys or passwords&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Similar to ConfigMaps it can be done imperatively and declaratively &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Declaratively, it can be passed as an env:&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;pod-definition-extract.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;pod-definition-extract.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;pod-definition-extract.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    - name: myapp&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      envFrom: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;        -secretRef:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;            name: app-secret&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Secret&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  name: app-secret&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;data:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  DB_Host: ab12d3&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;Secrets can be attached as volume too: &lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;volumes:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;- name: app-secret-volume &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  secret: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    secretName: app-secret&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;the information under secret.yaml are encrypted using base64, but can be decrypted too &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Secrets can be injected as env, single env and volumes&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Secret volumes mounted to the pod creates individual files&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Since secrets are encoded via base64, it can be decoded as well, so it&amp;#x27;s not that secure&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;However, if the secrets are not checked into the code repository, can make it safer&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Also, enabling encryption at rest for secrets so they are stored encrpyted in /etcd &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Secrets are sent to pods if only needed, kubelet stores secrets in tmpfs in memory, not on disk and once that pod is deleted, kubelet will delete its local copy of the secret data as well &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;imperatively you can create secrets as:&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl create secret generic &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  secretName --from-literal=key=value&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Security Context in Kubernetes&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To allow pod to run as non-root, such as userID 1000, just add the securityContext&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;SecurityContext can also be added to the container level, so that other containers in the pod and the host system are not impacted&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;pod-manifest.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;pod-manifest.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;pod-manifest.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Pod&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;metadata: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  name: myPod&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;# Pod level security&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  securityContext:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    runAsUser: 1000&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  containers: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    - name: Ubuntu&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      image: Ubuntu&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      command: [&amp;quot;sleep&amp;quot;, &amp;quot;3600&amp;quot;]&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      # Container level security, run as user 1000 instead of root &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;      securityContext:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;        runAsUser: 1000&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;        capabilities:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;          add: [&amp;quot;MAC_ADMIN&amp;quot;] #only on the container level&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Service Accounts&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;In kubernetes, there are user accounts and service accounts &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Humans use user accounts and bots/applications can use service accounts&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Service account examples are monitoring, logging, pipeline management&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Examples are promatheus (unsure if typed correctly) and jenkins&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;The applications that interact with my cluster has to be authenticated, for that we use service accounts&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;to create a service account imperatively &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl create serviceaccount ServiceAccountName&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;to get service accounts&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl get serviceaccount&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;to describe the service account, called ServiceAccountName&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl describe ServiceAccountName&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;When service accounts interact with Kubernetes API, they have to be authenticated&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;When a service account is created, it also creates a Token, the token is saved in the secret object &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Outside the scope of this course, however on a high level the structure for external application to interact with API, you create a service account, assign permissions using role-based control, export the service token to the application to authenticate&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;What if the third party application itself is hosted in the cluster? Then simply mount the secret as a volume to the pod&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To add service account to the pod, just add the following to pod yaml &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;mypod-manifest.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;mypod-manifest.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;mypod-manifest.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Pod &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  name: my-k8s-dashboard&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: mypodname&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    image: mypodimage&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  serviceAccount: dashboard-sa # the name of the serviceAccount object&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Resource Requirements&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Set the pod&amp;#x27;s CPU, Memory and Disk Requirements&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;K8s schedules the application to the necessary node&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;If there is no sufficient space available in the node, then it fails&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To set the resource requirements, add the following to the container definition &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;mypod-manifest.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;mypod-manifest.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;mypod-manifest.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Pod &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: myapp&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    image: containerimage&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    resources:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      request:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        memory: &amp;quot;1Gi&amp;quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        cpu: 0.5&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;also can set the limits&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;mypod-manifest.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;mypod-manifest.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;mypod-manifest.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Pod &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;...&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: myapp&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    image: containerimage&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    resources:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      requests:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        memory: &amp;quot;1Gi&amp;quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        cpu: 0.5&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      limits:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        memory: &amp;quot;2Gi&amp;quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        cpu: 2&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Taints &amp;amp; Tolerations&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;The motivation is to set Pod and Node relationship, so selected Pods can / cannot be run on selected Nodes&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Tainting is applied to the Node and Toleration is applied to the Pod &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Pods without taint toleration cannot be scheduled on the tainted Node &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;How to taint a node &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl taint nodes node-name key=value:taint-effect&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;where taint-effect is what happens to Pods that do not tolerate this taint &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;there are three taint effects
&lt;strong class=&quot;css-0&quot;&gt; NoSchedule: do not execute, what we have been discussing
&lt;/strong&gt; PreferNoSchedule: try not to schedule here
** NoExecute: do not schedule new and if there is any non-tolerant pods kill the pod (careful pods are gone!)&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;How to tolerate a pod &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl taint nodes node1 app=express: NoSchedule&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot; style=&quot;display:inline-block&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;--- mypod.yaml &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Pod&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;metadata: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  name: myserver&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: express-container&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    image: node&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  tolerations:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;  - key: &amp;quot;app&amp;quot; #see app on the taint function above &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    operator: &amp;quot;Equal&amp;quot; # see the equal sign on the taint function above &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    value: &amp;quot;express&amp;quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;    effect: &amp;quot;NoSchedule&amp;quot;&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Note that toleration to taint does not guarantee that the tolerant Pod will run on the tainted Node, see Affinity Rules for that requirement &lt;/p&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;For untaint, check $ kubectl taint -h &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To see which nodes the pods are running on $ kubectl get pods -o wide &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Node Selectors&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;The objective is to select certain Node, i.e. database pod should run on a higher CPU machine &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Say you want to add your application to a node that has significant CPU power, thus in your pod manifest you can add nodeSelector command &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;my-pod-manifest.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;my-pod-manifest.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;my-pod-manifest.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Pod &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  name: my-app&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: my-sifnificant-resource-requiring-app &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    image: dockerhub-image-name&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  nodeSelector:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    sizeCPU: significantlyhigh&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;note that nodeSelector key/value pair is something we define, thus we should name the node to match this pod manifest &lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl label nodes NodeName label-key=value-key&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl label nodes myNode sizeCPU=significantlyhigh&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Note that the node selectors work for single label and cannot use logical operators, such as select any node where the label is either X or Y, or select any node where the label is NOT equal to X &lt;/p&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To select nodes such as above, use Node Affinity&lt;/p&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Node Affinity&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To place a pod to a certain node, you can label the node and use nodeSelector in the Pod spec, such as addition of size=Large &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;What if you want to create more complicated selection, such as size NOT small or size Medium or Large? &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Such complex selection is achieved via Node Affinity on pod definition &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;mypod-manifest.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;mypod-manifest.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;mypod-manifest.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1 &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Pod &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  name: nginx &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  affinity: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    nodeAffinity:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      requiredDuringSchedulingIgnoredDuringExecution:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        nodeSelectorTerms:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        - matchExpressions:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          - key: disktype&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            operator: In &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            values:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;            - ssd &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: nginx &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    image: nginx &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    imagePullPolicy: IfNotPresent&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;What if a sneaky engineer updates the node label along the way, will the Pods get deleted? &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;The answer is under the nodeAffinity line
&lt;strong class=&quot;css-0&quot;&gt; requiredDuringSchedulingIgnoredDuringExecution
&lt;/strong&gt; preferredDuringSchedulingIgnoredDuringExecution
** Planned to be added to K8s: requiredDuringSchedulingRequiredDuringExecution&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Multi-Container Pods&lt;/h1&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Multi Containers&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Most of the time, one pod contains single container &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;And sometimes (and almost always in distributed systems a.k.a microservices) you want to trace your app logs, track the traffic etc. &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;However, you don&amp;#x27;t want to bloat the app with that, so you add another container to the pod that takes care of such app support functions/services, which scales up/down along with app container  &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;There are three patterns: Ambassador, Adapter, Sidecar&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;To add extra container into pod, just expand the pod spec&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;my-pod-manifest.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;my-pod-manifest.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;my-pod-manifest.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Pod &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  name: my-app&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: my-web&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    image: ibmcr-web-app &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: logger &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    image: ibmcr-logger&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Observability&lt;/h1&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Readiness&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Readiness probe helps Scheduler to wait before sending the traffic to the newly created pod &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;That is pretty helpful if you are running a script that creates pods / deployments back to back&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;code-title&quot;&gt;&lt;div&gt;readiness-pod-manifest.yaml&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;&quot;&gt;&lt;pre class=&quot;prism-code language-&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;readiness-pod-manifest.yaml: copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;readiness-pod-manifest.yaml: copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Pod&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  labels:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    test: liveness&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  name: liveness-exec&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;spec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  containers:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - name: liveness&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    image: k8s.gcr.io/busybox&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    args:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    - /bin/sh&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    - -c&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    - touch /tmp/healthy; sleep 30; rm -rf /tmp/healthy; sleep 600&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    #OPTION 1:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    readinessProbe:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      exec:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        command:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        - cat&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        - /tmp/healthy&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line highlight-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      initialDelaySeconds: 5&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      periodSeconds: 5&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    OPTION 2:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    readinessProbe:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      httpGet:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;27&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        path: /healthz&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;28&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        port: 8080&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;29&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        httpHeaders:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;        - name: Custom-Header&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;          value: Awesome&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      initialDelaySeconds: 3&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;33&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;      periodSeconds: 3&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Liveliness&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Liveliness probe is the same as the readiness probe, however serves for a different reason &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Liveliness checks if your container is responding to client requests. Sometimes, your pod can be running and ready but your container is frozen or your code is broken &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;For YAMLs use livelinessProbe instead of readinessProbe and the rest is the same &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Logging&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;use kubectl logs -f [pod-name][container-name-if-multiple-containers-in-the-pod]&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;noLineNumbers&quot;&gt;&lt;pre class=&quot;prism-code language-noLineNumbers&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;false&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-noLineNumbers&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;token plain&quot;&gt;$ kubectl logs -f my-pod my-first-container&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;If the container has stopped, add -c flag, if you have multiple containers add --all-containers=true flag &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Kubernetes does not have native metrics monitoring solution, so we use 3rd party such as promatheus or ELK stack. Kubernetes metrics server is also available at github
&lt;a href=&quot;https://github.com/kubernetes-incubator/metrics-server.git&quot; class=&quot;css-1od09yo&quot;&gt;https://github.com/kubernetes-incubator/metrics-server.git&lt;/a&gt; &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Clone the link and apply the files under /deploy/[metrics-version] folder &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Similar to linux performance command &amp;#x27;top&amp;#x27; use kubectl top [element] where element is node or pod &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Pod Design&lt;/h1&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Labels and Selectors&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Labels help multiple objects to be accessed at once&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;For replicaSets or deployments, the label for the replicaset can be different from pod spec, the most important line is Selector in the yaml to select the pods &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Rolling Updates and Rollbacks&lt;/h2&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Jobs and CronJobs&lt;/h2&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;Services and Networking&lt;/h1&gt;&lt;h2 class=&quot;css-7tlrlz&quot;&gt;Services and NodePort&lt;/h2&gt;&lt;ul class=&quot;css-15rlv7r&quot;&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Pod to pod communication can be done through services, because Pods are ephemeral, when pods are deleted the assigned IPs are gone&lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;Services keep track of the pods and can expose the service to outside of cluster &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;There are 3 type of services, ClusterIP, NodePort and LoadBalancer &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;ClusterIP is the default choice, it creates a cluster wide IP address that Pods can communicate with &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;NodePort is ClusterIP + a static port open within the Node, thus all pods are accessible from the port; to access you can ping NodeIP:NodePort &lt;/p&gt;&lt;/li&gt;&lt;li class=&quot;css-0&quot;&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;LoadBalancer allows a service to distribute the traffic among the pods in the cluster. Can be run on cloud providers which support LBs. &lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;style data-emotion-css=&quot;1p1kpni&quot;&gt;.css-1p1kpni{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-1p1kpni{font-size:1.875rem;}}@media screen and (min-width:768px){.css-1p1kpni{font-size:1.875rem;}}@media screen and (min-width:1024px){.css-1p1kpni{font-size:2.25rem;}}&lt;/style&gt;&lt;h3 class=&quot;css-1p1kpni&quot;&gt;NodePort&lt;/h3&gt;&lt;p class=&quot;css-1ccrm8j&quot;&gt;From the Service object perspective, Service object has a ClusterIP and a Port.
Service object connects to a Pod at the TargetPort
Node Port opens up a static port with a range between 30000 and 32767 on the Node (i.e machine)&lt;/p&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nodeport-service.yaml&quot;&gt;&lt;pre class=&quot;prism-code language-nodeport-service.yaml&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-nodeport-service.yaml&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1 &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Service &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  name: myapp-svc &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;spec: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  type: NodePort &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  ports:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - targetPort: 80&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    port: 80&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    nodePort: 30008 # optional, if not given, auto selected &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  #selector is needed to match the pod label &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  selectors:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    name: myapp&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;nodeport-service.yaml&quot;&gt;&lt;pre class=&quot;prism-code language-nodeport-service.yaml&quot; style=&quot;color:#d6deeb;background-color:#011627&quot; data-linenumber=&quot;true&quot;&gt;&lt;button type=&quot;button&quot; name=&quot;copy code to clipboard&quot; class=&quot;code-copy-button css-l84w3r&quot;&gt;Copy&lt;span aria-roledescription=&quot;status&quot; class=&quot;css-1gy8470&quot;&gt;copy code to clipboard&lt;/span&gt;&lt;/button&gt;&lt;code class=&quot;language-nodeport-service.yaml&quot;&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;apiVersion: v1 &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;kind: Service &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;metadata:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  name: myapp-svc &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;spec: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  type: ClusterIP #default option, can be left out  &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  ports:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  - targetPort: 80 #&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    port: 80&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    nodePort: 30008 # optional, if not given, auto selected &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  #selector is needed to match the pod label &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;  selectors:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;token-line&quot; style=&quot;color:#d6deeb&quot;&gt;&lt;span class=&quot;line-number-style&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;token plain&quot;&gt;    name: myapp&lt;/span&gt;&lt;/div&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 class=&quot;css-s5k39c&quot;&gt;State Persistence&lt;/h1&gt;</content:encoded></item></channel></rss>